!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.requirejs){var t={},n={},o=function(e,t){return{}.hasOwnProperty.call(e,t)},r=function(e,t){for(var n,o,r=[],i=0,a=(n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/")).length;i<a;i++)".."===(o=n[i])?r.pop():"."!==o&&""!==o&&r.push(o);return r.join("/")},i=function(t,o){var i,a={id:t,exports:{}};return n[t]=a,o(a.exports,(i=t,function(t){var n=function(e){return e.split("/").slice(0,-1).join("/")}(i),o=r(n,t);return e.requirejs(o,i)}),a),a.exports},a=function(e,n){if("object"==typeof e)for(var r in e)o(e,r)&&(t[r]=e[r]);else t[e]=n};e.requirejs=function(e,a){var s=r(e,".");if(null==a&&(a="/"),o(n,s))return n[s].exports;if(o(t,s))return i(s,t[s]);var c=r(s,"./index");if(o(n,c))return n[c].exports;if(o(t,c))return i(c,t[c]);throw new Error('Cannot find module "'+e+'" from "'+a+'"')},e.requirejs.define=a,e.requirejs.register=a,e.requirejs.list=function(){var e=[];for(var n in t)o(t,n)&&e.push(n);return e},e.requirejs.brunch=!0}}(),
/**
 * @license Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2012, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.3
 * Build date: 26 February 2012
 */
window.rangy=function(){var e=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],t=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],n=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],o=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"];function r(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function i(e,t){return!("object"!=typeof e[t]||!e[t])}function a(e,t){return void 0!==e[t]}function s(e){return function(t,n){for(var o=n.length;o--;)if(!e(t,n[o]))return!1;return!0}}var c=s(r),d=s(i),l=s(a);function f(e){return e&&c(e,o)&&l(e,n)}var u={version:"1.2.3",initialized:!1,supported:!0,util:{isHostMethod:r,isHostObject:i,isHostProperty:a,areHostMethods:c,areHostObjects:d,areHostProperties:l,isTextRange:f},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};function h(e){window.alert("Rangy not supported in your browser. Reason: "+e),u.initialized=!0,u.supported=!1}u.fail=h,u.warn=function(e){var t="Rangy warning: "+e;u.config.alertOnWarn?window.alert(t):void 0!==window.console&&void 0!==window.console.log&&window.console.log(t)},!{}.hasOwnProperty?h("hasOwnProperty not supported"):u.util.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var g=[],p=[];function m(){if(!u.initialized){var n,o=!1,a=!1;r(document,"createRange")&&(n=document.createRange(),c(n,t)&&l(n,e)&&(o=!0),n.detach());var s=i(document,"body")?document.body:document.getElementsByTagName("body")[0];s&&r(s,"createTextRange")&&f(n=s.createTextRange())&&(a=!0),o||a||h("Neither Range nor TextRange are implemented"),u.initialized=!0,u.features={implementsDomRange:o,implementsTextRange:a};for(var d=p.concat(g),m=0,v=d.length;m<v;++m)try{d[m](u)}catch(e){i(window,"console")&&r(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",e)}}}u.init=m,u.addInitListener=function(e){u.initialized?e(u):g.push(e)};var v=[];function C(e){this.name=e,this.initialized=!1,this.supported=!1}u.addCreateMissingNativeApiListener=function(e){v.push(e)},u.createMissingNativeApi=function(e){e=e||window,m();for(var t=0,n=v.length;t<n;++t)v[t](e)},C.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},C.prototype.warn=function(e){u.warn("Module "+this.name+": "+e)},C.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},u.createModule=function(e,t){var n=new C(e);u.modules[e]=n,p.push((function(e){t(e,n),n.initialized=!0,n.supported=!0}))},u.requireModules=function(e){for(var t,n,o=0,r=e.length;o<r;++o){if(n=e[o],!((t=u.modules[n])&&t instanceof C))throw new Error("Module '"+n+"' not found");if(!t.supported)throw new Error("Module '"+n+"' not supported")}};var N=!1,R=function(e){N||(N=!0,u.initialized||m())};if("undefined"!=typeof window){if("undefined"!=typeof document)return r(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",R,!1),r(window,"addEventListener")?window.addEventListener("load",R,!1):r(window,"attachEvent")?window.attachEvent("onload",R):h("Window does not have required addEventListener or attachEvent method"),u;h("No document found")}else h("No window found")}(),rangy.createModule("DomUtil",(function(e,t){var n="undefined",o=e.util;o.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),o.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var r=document.createElement("div");o.areHostMethods(r,["insertBefore","appendChild","cloneNode"]||!o.areHostObjects(r,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),o.isHostProperty(r,"innerHTML")||t.fail("Element is missing innerHTML property");var i=document.createTextNode("test");o.areHostMethods(i,["splitText","deleteData","insertData","appendData","cloneNode"]||!o.areHostObjects(r,["previousSibling","nextSibling","childNodes","parentNode"])||!o.areHostProperties(i,["data"]))||t.fail("Incomplete Text Node implementation");var a=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function s(e){for(var t=0;e=e.previousSibling;)t++;return t}function c(e,t){var n,o=[];for(n=e;n;n=n.parentNode)o.push(n);for(n=t;n;n=n.parentNode)if(a(o,n))return n;return null}function d(e,t,n){for(var o,r=n?e:e.parentNode;r;){if((o=r.parentNode)===t)return r;r=o}return null}function l(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e,t){var n=t.nextSibling,o=t.parentNode;return n?o.insertBefore(e,n):o.appendChild(e),e}function u(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=n)return e.ownerDocument;if(typeof e.document!=n)return e.document;if(e.parentNode)return u(e.parentNode);throw new Error("getDocument: no document found for node")}function h(e){if(!e)return"[No node]";if(l(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function g(e){this.root=e,this._next=e}function p(e,t){this.node=e,this.offset=t}function m(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},p.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+h(this.node)+":"+this.offset+")]"}},m.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},m.prototype.toString=function(){return this.message},e.dom={arrayContains:a,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==n||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:s,getNodeLength:function(e){var t;return l(e)?e.length:(t=e.childNodes)?t.length:0},getCommonAncestor:c,isAncestorOf:function(e,t,n){for(var o=n?t:t.parentNode;o;){if(o===e)return!0;o=o.parentNode}return!1},getClosestAncestorIn:d,isCharacterDataNode:l,insertAfter:f,splitDataNode:function(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),f(n,e),n},getDocument:u,getWindow:function(e){var t=u(e);if(typeof t.defaultView!=n)return t.defaultView;if(typeof t.parentWindow!=n)return t.parentWindow;throw new Error("Cannot get a window object for node")},getIframeWindow:function(e){if(typeof e.contentWindow!=n)return e.contentWindow;if(typeof e.contentDocument!=n)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(e){if(typeof e.contentDocument!=n)return e.contentDocument;if(typeof e.contentWindow!=n)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")},getBody:function(e){return o.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,n,o){var r,i,a,l,f;if(e==n)return t===o?0:t<o?-1:1;if(r=d(n,e,!0))return t<=s(r)?-1:1;if(r=d(e,n,!0))return s(r)<o?-1:1;if((a=e===(i=c(e,n))?i:d(e,i,!0))===(l=n===i?i:d(n,i,!0)))throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(f=i.firstChild;f;){if(f===a)return-1;if(f===l)return 1;f=f.nextSibling}throw new Error("Should not be here!")},inspectNode:h,fragmentFromNodeChildren:function(e){for(var t,n=u(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new g(e)},DomPosition:p},e.DOMException=m})),rangy.createModule("DomRange",(function(e,t){e.requireModules(["DomUtil"]);var n=e.dom,o=n.DomPosition,r=e.DOMException;function i(e,t){return 3!=e.nodeType&&(n.isAncestorOf(e,t.startContainer,!0)||n.isAncestorOf(e,t.endContainer,!0))}function a(e){return n.getDocument(e.startContainer)}function s(e,t,n){var o=e._listeners[t];if(o)for(var r=0,i=o.length;r<i;++r)o[r].call(e,{target:e,args:n})}function c(e){return new o(e.parentNode,n.getNodeIndex(e))}function d(e){return new o(e.parentNode,n.getNodeIndex(e)+1)}function l(e,t,o){var r=11==e.nodeType?e.firstChild:e;return n.isCharacterDataNode(t)?o==t.length?n.insertAfter(e,t):t.parentNode.insertBefore(e,0==o?t:n.splitDataNode(t,o)):o>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[o]),r}function f(e,t,o){var r,i,a,s;for(o=o||{stop:!1};a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(o.stop=!0);if(f(s=e.getSubtreeIterator(),t,o),s.detach(!0),o.stop)return}else for(r=n.createIterator(a);i=r.next();)if(!1===t(i))return void(o.stop=!0)}function u(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(u(t=e.getSubtreeIterator()),t.detach(!0)):e.remove()}function h(e){for(var t,n,o=a(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(h(n)),n.detach(!0)):e.remove(),10==t.nodeType)throw new r("HIERARCHY_REQUEST_ERR");o.appendChild(t)}return o}function g(e,t,n){var o,r=!(!t||!t.length),i=!!n;r&&(o=new RegExp("^("+t.join("|")+")$"));var a=[];return f(new m(e,!1),(function(e){r&&!o.test(e.nodeType)||i&&!n(e)||a.push(e)})),a}function p(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+n.inspectNode(e.startContainer)+":"+e.startOffset+", "+n.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function m(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var o=e.commonAncestorContainer;this.sc===this.ec&&n.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==o||n.isCharacterDataNode(this.sc)?n.getClosestAncestorIn(this.sc,o,!0):this.sc.childNodes[this.so],this._last=this.ec!==o||n.isCharacterDataNode(this.ec)?n.getClosestAncestorIn(this.ec,o,!0):this.ec.childNodes[this.eo-1])}}function v(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function C(e,t,n){this.nodes=g(e,t,n),this._next=this.nodes[0],this._position=0}m.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,n.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,o=this._current;!n.isCharacterDataNode(o)||o!==this.sc&&o!==this.ec?o.parentNode&&o.parentNode.removeChild(o):(e=o===this.sc?this.so:0)!=(t=o===this.ec?this.eo:o.length)&&o.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return i(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse();else{e=new X(a(this.range));var t=this._current,o=t,r=0,i=t,s=n.getNodeLength(t);n.isAncestorOf(t,this.sc,!0)&&(o=this.sc,r=this.so),n.isAncestorOf(t,this.ec,!0)&&(i=this.ec,s=this.eo),G(e,o,r,i,s)}return new m(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},v.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},v.prototype.toString=function(){return this.message},C.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var N=[1,3,4,5,7,8,10],R=[2,9,11],E=[1,3,4,5,7,8,10,11],w=[1,3,4,5,7,8];function S(e){return function(t,o){for(var r,i=o?t:t.parentNode;i;){if(r=i.nodeType,n.arrayContains(e,r))return i;i=i.parentNode}return null}}var y=n.getRootContainer,T=S([9,11]),O=S([5,6,10,12]),_=S([6,10,12]);function D(e,t){if(_(e,t))throw new v("INVALID_NODE_TYPE_ERR")}function x(e){if(!e.startContainer)throw new r("INVALID_STATE_ERR")}function A(e,t){if(!n.arrayContains(t,e.nodeType))throw new v("INVALID_NODE_TYPE_ERR")}function b(e,t){if(t<0||t>(n.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new r("INDEX_SIZE_ERR")}function I(e,t){if(T(e,!0)!==T(t,!0))throw new r("WRONG_DOCUMENT_ERR")}function P(e){if(O(e,!0))throw new r("NO_MODIFICATION_ALLOWED_ERR")}function M(e,t){if(!e)throw new r(t)}function B(e){return!n.arrayContains(R,e.nodeType)&&!T(e,!0)}function H(e,t){return t<=(n.isCharacterDataNode(e)?e.length:e.childNodes.length)}function W(e){return!!e.startContainer&&!!e.endContainer&&!B(e.startContainer)&&!B(e.endContainer)&&H(e.startContainer,e.startOffset)&&H(e.endContainer,e.endOffset)}function L(e){if(x(e),!W(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}var j=document.createElement("style"),k=!1;try{j.innerHTML="<b>x</b>",k=3==j.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=k;var U=k?function(e){var t=this.startContainer,o=n.getDocument(t);if(!t)throw new r("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:n.isCharacterDataNode(t)&&(i=n.parentElement(t)),(i=null===i||"HTML"==i.nodeName&&n.isHtmlNamespace(n.getDocument(i).documentElement)&&n.isHtmlNamespace(i)?o.createElement("body"):i.cloneNode(!1)).innerHTML=e,n.fragmentFromNodeChildren(i)}:function(e){x(this);var t=a(this).createElement("body");return t.innerHTML=e,n.fragmentFromNodeChildren(t)},z=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"];function F(){}function q(e){e.START_TO_START=0,e.START_TO_END=1,e.END_TO_END=2,e.END_TO_START=3,e.NODE_BEFORE=0,e.NODE_AFTER=1,e.NODE_BEFORE_AND_AFTER=2,e.NODE_INSIDE=3}function V(e){q(e),q(e.prototype)}function Y(e,t){return function(){L(this);var o,r=this.startContainer,i=this.startOffset,a=this.commonAncestorContainer,s=new m(this,!0);r!==a&&(r=(o=d(n.getClosestAncestorIn(r,a,!0))).node,i=o.offset),f(s,P),s.reset();var c=e(s);return s.detach(),t(this,r,i,r,i),c}}function $(t,o,r){function a(e,t){return function(n){x(this),A(n,N),A(y(n),R);var o=(e?c:d)(n);(t?s:l)(this,o.node,o.offset)}}function s(e,t,r){var i=e.endContainer,a=e.endOffset;t===e.startContainer&&r===e.startOffset||(y(t)==y(i)&&1!=n.comparePoints(t,r,i,a)||(i=t,a=r),o(e,t,r,i,a))}function l(e,t,r){var i=e.startContainer,a=e.startOffset;t===e.endContainer&&r===e.endOffset||(y(t)==y(i)&&-1!=n.comparePoints(t,r,i,a)||(i=t,a=r),o(e,i,a,t,r))}t.prototype=new F,e.util.extend(t.prototype,{setStart:function(e,t){x(this),D(e,!0),b(e,t),s(this,e,t)},setEnd:function(e,t){x(this),D(e,!0),b(e,t),l(this,e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){L(this),e?o(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):o(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){x(this),D(e,!0),o(this,e,0,e,n.getNodeLength(e))},selectNode:function(e){x(this),D(e,!1),A(e,N);var t=c(e),n=d(e);o(this,t.node,t.offset,n.node,n.offset)},extractContents:Y(h,o),deleteContents:Y(u,o),canSurroundContents:function(){L(this),P(this.startContainer),P(this.endContainer);var e=new m(this,!0),t=e._first&&i(e._first,this)||e._last&&i(e._last,this);return e.detach(),!t},detach:function(){r(this)},splitBoundaries:function(){L(this);var e=this.startContainer,t=this.startOffset,r=this.endContainer,i=this.endOffset,a=e===r;n.isCharacterDataNode(r)&&i>0&&i<r.length&&n.splitDataNode(r,i),n.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=n.splitDataNode(e,t),a?(i-=t,r=e):r==e.parentNode&&i>=n.getNodeIndex(e)&&i++,t=0),o(this,e,t,r,i)},normalizeBoundaries:function(){L(this);var e=this.startContainer,t=this.startOffset,r=this.endContainer,i=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(r=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},s=function(o){var a=o.previousSibling;if(a&&a.nodeType==o.nodeType){e=o;var s=o.length;if(t=a.length,o.insertData(0,a.data),a.parentNode.removeChild(a),e==r)i+=t,r=e;else if(r==o.parentNode){var c=n.getNodeIndex(o);i==c?(r=o,i=s):i>c&&i--}}},c=!0;if(n.isCharacterDataNode(r))r.length==i&&a(r);else{if(i>0){var d=r.childNodes[i-1];d&&n.isCharacterDataNode(d)&&a(d)}c=!this.collapsed}if(c){if(n.isCharacterDataNode(e))0==t&&s(e);else if(t<e.childNodes.length){var l=e.childNodes[t];l&&n.isCharacterDataNode(l)&&s(l)}}else e=r,t=i;o(this,e,t,r,i)},collapseToPoint:function(e,t){x(this),D(e,!0),b(e,t),function(e,t,n){t===e.startContainer&&n===e.startOffset&&t===e.endContainer&&n===e.endOffset||o(e,t,n,t,n)}(this,e,t)}}),V(t)}function Q(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:n.getCommonAncestor(e.startContainer,e.endContainer)}function G(e,t,n,o,r){var i=e.startContainer!==t||e.startOffset!==n,a=e.endContainer!==o||e.endOffset!==r;e.startContainer=t,e.startOffset=n,e.endContainer=o,e.endOffset=r,Q(e),s(e,"boundarychange",{startMoved:i,endMoved:a})}function X(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},Q(this)}F.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){var o,r,i,a;L(this),I(this.startContainer,t.startContainer);var s=3==e||0==e?"start":"end",c=1==e||0==e?"start":"end";return o=this[s+"Container"],r=this[s+"Offset"],i=t[c+"Container"],a=t[c+"Offset"],n.comparePoints(o,r,i,a)},insertNode:function(e){if(L(this),A(e,E),P(this.startContainer),n.isAncestorOf(e,this.startContainer,!0))throw new r("HIERARCHY_REQUEST_ERR");var t=l(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(L(this),this.collapsed)return a(this).createDocumentFragment();if(this.startContainer===this.endContainer&&n.isCharacterDataNode(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=a(this).createDocumentFragment()).appendChild(e),t;var o=new m(this,!0);return e=function e(t){for(var n,o,i,s=a(t.range).createDocumentFragment();o=t.next();){if(n=t.isPartiallySelectedSubtree(),o=o.cloneNode(!n),n&&(i=t.getSubtreeIterator(),o.appendChild(e(i)),i.detach(!0)),10==o.nodeType)throw new r("HIERARCHY_REQUEST_ERR");s.appendChild(o)}return s}(o),o.detach(),e},canSurroundContents:function(){L(this),P(this.startContainer),P(this.endContainer);var e=new m(this,!0),t=e._first&&i(e._first,this)||e._last&&i(e._last,this);return e.detach(),!t},surroundContents:function(e){if(A(e,w),!this.canSurroundContents())throw new v("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);l(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){L(this);for(var e,t=new X(a(this)),n=z.length;n--;)t[e=z[n]]=this[e];return t},toString:function(){L(this);var e=this.startContainer;if(e===this.endContainer&&n.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],o=new m(this,!0);return f(o,(function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)})),o.detach(),t.join("")},compareNode:function(e){L(this);var t=e.parentNode,o=n.getNodeIndex(e);if(!t)throw new r("NOT_FOUND_ERR");var i=this.comparePoint(t,o),a=this.comparePoint(t,o+1);return i<0?a>0?2:0:a>0?1:3},comparePoint:function(e,t){return L(this),M(e,"HIERARCHY_REQUEST_ERR"),I(e,this.startContainer),n.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:n.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:U,toHtml:function(){L(this);var e=a(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(L(this),M(e,"NOT_FOUND_ERR"),n.getDocument(e)!==a(this))return!1;var o=e.parentNode,r=n.getNodeIndex(e);M(o,"NOT_FOUND_ERR");var i=n.comparePoints(o,r,this.endContainer,this.endOffset),s=n.comparePoints(o,r+1,this.startContainer,this.startOffset);return t?i<=0&&s>=0:i<0&&s>0},isPointInRange:function(e,t){return L(this),M(e,"HIERARCHY_REQUEST_ERR"),I(e,this.startContainer),n.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&n.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(L(this),a(e)!=a(this))throw new r("WRONG_DOCUMENT_ERR");var o=n.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),i=n.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?o<=0&&i>=0:o<0&&i>0},intersection:function(e){if(this.intersectsRange(e)){var t=n.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),o=n.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==o&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==n.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==n.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new v("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):3==this.compareNode(e)},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,n.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var o=n.pop();t.setEnd(o,o.length);var r=this.containsRange(t);return t.detach(),r}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return L(this),new C(this,e,t)},getNodes:function(e,t){return L(this),g(this,e,t)},getDocument:function(){return a(this)},collapseBefore:function(e){x(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){x(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return X.rangesEqual(this,e)},isValid:function(){return W(this)},inspect:function(){return p(this)}},$(X,G,(function(e){x(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,s(e,"detach",null),e._listeners=null})),e.rangePrototype=F.prototype,X.rangeProperties=z,X.RangeIterator=m,X.copyComparisonConstants=V,X.createPrototypeRange=$,X.inspect=p,X.getRangeDocument=a,X.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=X,e.RangeException=v})),rangy.createModule("WrappedRange",(function(e,t){var n;e.requireModules(["DomUtil","DomRange"]);var o=e.dom,r=o.DomPosition,i=e.DomRange;function a(e,t,n,i){var a=e.duplicate();a.collapse(n);var s=a.parentElement();if(o.isAncestorOf(t,s,!0)||(s=t),!s.canHaveHTML)return new r(s.parentNode,o.getNodeIndex(s));var c,d,l,f,u,h=o.getDocument(s).createElement("span"),g=n?"StartToStart":"StartToEnd";do{s.insertBefore(h,h.previousSibling),a.moveToElementText(h)}while((c=a.compareEndPoints(g,e))>0&&h.previousSibling);if(u=h.nextSibling,-1==c&&u&&o.isCharacterDataNode(u)){var p;if(a.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(u.data)){var m=a.duplicate(),v=m.text.replace(/\r\n/g,"\r").length;for(p=m.moveStart("character",v);-1==(c=m.compareEndPoints("StartToEnd",m));)p++,m.moveStart("character",1)}else p=a.text.length;f=new r(u,p)}else d=(i||!n)&&h.previousSibling,f=(l=(i||n)&&h.nextSibling)&&o.isCharacterDataNode(l)?new r(l,0):d&&o.isCharacterDataNode(d)?new r(d,d.length):new r(s,o.getNodeIndex(h));return h.parentNode.removeChild(h),f}function s(e,t){var n,r,i,a,s=e.offset,c=o.getDocument(e.node),d=c.body.createTextRange(),l=o.isCharacterDataNode(e.node);return l?r=(n=e.node).parentNode:(n=s<(a=e.node.childNodes).length?a[s]:null,r=e.node),(i=c.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(i,n):r.appendChild(i),d.moveToElementText(i),d.collapse(!t),r.removeChild(i),l&&d[t?"moveStart":"moveEnd"]("character",s),d}if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){(n=function(e){this.textRange=e,this.refresh()}).prototype=new i(document),n.prototype.refresh=function(){var e,t,n,r=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var i=n.parentElement(),a=r==i?r:o.getCommonAncestor(r,i);return a==t?a:o.getCommonAncestor(t,a)}(this.textRange);0==(n=this.textRange).compareEndPoints("StartToEnd",n)?t=e=a(this.textRange,r,!0,!0):(e=a(this.textRange,r,!0,!1),t=a(this.textRange,r,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.copyComparisonConstants(n);var c=function(){return this}();void 0===c.Range&&(c.Range=n),e.createNativeRange=function(e){return(e=e||document).body.createTextRange()}}}else!function(){var t,r,a=i.rangeProperties;function s(e){for(var t,n=a.length;n--;)e[t=a[n]]=e.nativeRange[t]}n=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,s(this)},i.createPrototypeRange(n,(function(e,t,n,o,r){var i=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==o||e.endOffset!=r;(i||a)&&(e.setEnd(o,r),e.setStart(t,n))}),(function(e){e.nativeRange.detach(),e.detached=!0;for(var t=a.length;t--;)e[a[t]]=null})),(t=n.prototype).selectNode=function(e){this.nativeRange.selectNode(e),s(this)},t.deleteContents=function(){this.nativeRange.deleteContents(),s(this)},t.extractContents=function(){var e=this.nativeRange.extractContents();return s(this),e},t.cloneContents=function(){return this.nativeRange.cloneContents()},t.surroundContents=function(e){this.nativeRange.surroundContents(e),s(this)},t.collapse=function(e){this.nativeRange.collapse(e),s(this)},t.cloneRange=function(){return new n(this.nativeRange.cloneRange())},t.refresh=function(){s(this)},t.toString=function(){return this.nativeRange.toString()};var c=document.createTextNode("test");o.getBody(document).appendChild(c);var d=document.createRange();d.setStart(c,0),d.setEnd(c,0);try{d.setStart(c,1),!0,t.setStart=function(e,t){this.nativeRange.setStart(e,t),s(this)},t.setEnd=function(e,t){this.nativeRange.setEnd(e,t),s(this)},r=function(e){return function(t){this.nativeRange[e](t),s(this)}}}catch(e){!1,t.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}s(this)},t.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}s(this)},r=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(o){this.nativeRange[t](n),this.nativeRange[e](n)}s(this)}}}t.setStartBefore=r("setStartBefore","setEndBefore"),t.setStartAfter=r("setStartAfter","setEndAfter"),t.setEndBefore=r("setEndBefore","setStartBefore"),t.setEndAfter=r("setEndAfter","setStartAfter"),d.selectNodeContents(c),d.startContainer==c&&d.endContainer==c&&0==d.startOffset&&d.endOffset==c.length?t.selectNodeContents=function(e){this.nativeRange.selectNodeContents(e),s(this)}:t.selectNodeContents=function(e){this.setStart(e,0),this.setEnd(e,i.getEndOffset(e))},d.selectNodeContents(c),d.setEnd(c,3);var l=document.createRange();l.selectNodeContents(c),l.setEnd(c,4),l.setStart(c,2),-1==d.compareBoundaryPoints(d.START_TO_END,l)&1==d.compareBoundaryPoints(d.END_TO_START,l)?t.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:t.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(d,"createContextualFragment")&&(t.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),o.getBody(document).removeChild(c),d.detach(),l.detach()}(),e.createNativeRange=function(e){return(e=e||document).createRange()};e.features.implementsTextRange&&(n.rangeToTextRange=function(e){if(e.collapsed)return s(new r(e.startContainer,e.startOffset),!0);var t=s(new r(e.startContainer,e.startOffset),!0),n=s(new r(e.endContainer,e.endOffset),!1),i=o.getDocument(e.startContainer).body.createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i}),n.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createRange=function(t){return t=t||document,new n(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new i(e)},e.createIframeRange=function(t){return e.createRange(o.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(o.getIframeDocument(t))},e.addCreateMissingNativeApiListener((function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(this)}),n=t=null}))})),rangy.createModule("WrappedSelection",(function(e,t){e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var n,o,r=e.dom,i=e.util,a=e.DomRange,s=e.WrappedRange,c=e.DOMException,d=r.DomPosition;function l(e){return(e||window).document.selection}var f=e.util.isHostMethod(window,"getSelection"),u=e.util.isHostObject(document,"selection"),h=u&&(!f||e.config.preferTextRange);h?(n=l,e.isSelectionValid=function(e){var t=(e||window).document,n=t.selection;return"None"!=n.type||r.getDocument(n.createRange().parentElement())==t}):f?(n=function(e){return(e||window).getSelection()},e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=n;var g=n(),p=e.createNativeRange(document),m=r.getBody(document),v=i.areHostObjects(g,["anchorNode","focusNode"]&&i.areHostProperties(g,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=v;var C=i.isHostMethod(g,"extend");e.features.selectionHasExtend=C;var N="number"==typeof g.rangeCount;e.features.selectionHasRangeCount=N;var R=!1,E=!0;i.areHostMethods(g,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof g.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");e.frameBorder=0,e.style.position="absolute",e.style.left="-10000px",m.appendChild(e);var t=r.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var n=r.getIframeWindow(e).getSelection(),o=t.documentElement.lastChild.firstChild,i=t.createRange();i.setStart(o,1),i.collapse(!0),n.addRange(i),E=1==n.rangeCount,n.removeAllRanges();var a=i.cloneRange();i.setStart(o,0),a.setEnd(o,2),n.addRange(i),n.addRange(a),R=2==n.rangeCount,i.detach(),a.detach(),m.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=R,e.features.collapsedNonEditableSelectionsSupported=E;var w,S,y=!1;function T(e,t,n){var o=n?"end":"start",r=n?"start":"end";e.anchorNode=t[o+"Container"],e.anchorOffset=t[o+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function O(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function _(t){var n;return t instanceof a?(n=t._selectionNativeRange)||((n=e.createNativeRange(r.getDocument(t.startContainer))).setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=n,t.attachListener("detach",(function(){this._selectionNativeRange=null}))):t instanceof s?n=t.nativeRange:e.features.implementsDomRange&&t instanceof r.getWindow(t.startContainer).Range&&(n=t),n}function D(e){var t=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!r.isAncestorOf(e[0],e[t]))return!1;return!0}(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function x(e){return!!e&&void 0!==e.text}function A(e,t){var n=new s(t);e._ranges=[n],T(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function b(t){if(t._ranges.length=0,"None"==t.docSelection.type)O(t);else{var n=t.docSelection.createRange();if(x(n))A(t,n);else{t.rangeCount=n.length;for(var o,i=r.getDocument(n.item(0)),a=0;a<t.rangeCount;++a)(o=e.createRange(i)).selectNode(n.item(a)),t._ranges.push(o);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,T(t,t._ranges[t.rangeCount-1],!1)}}}function I(e,t){for(var n=e.docSelection.createRange(),o=D(t),i=r.getDocument(n.item(0)),a=r.getBody(i).createControlRange(),s=0,c=n.length;s<c;++s)a.add(n.item(s));try{a.add(o)}catch(e){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),b(e)}function P(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}m&&i.isHostMethod(m,"createControlRange")&&(w=m.createControlRange(),i.areHostProperties(w,["item","add"])&&(y=!0)),e.features.implementsControlRange=y,o=v?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},i.isHostMethod(g,"getRangeAt")?S=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:v&&(S=function(t){var n=r.getDocument(t.anchorNode),o=e.createRange(n);return o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset),o.collapsed!==this.isCollapsed&&(o.setStart(t.focusNode,t.focusOffset),o.setEnd(t.anchorNode,t.anchorOffset)),o}),e.getSelection=function(e){var t=(e=e||window)._rangySelection,o=n(e),r=u?l(e):null;return t?(t.nativeSelection=o,t.docSelection=r,t.refresh(e)):(t=new P(o,r,e),e._rangySelection=t),t},e.getIframeSelection=function(t){return e.getSelection(r.getIframeWindow(t))};var M,B=P.prototype;function H(e,t){for(var n,o=r.getDocument(t[0].startContainer),i=r.getBody(o).createControlRange(),a=0;a<rangeCount;++a){n=D(t[a]);try{i.add(n)}catch(e){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),b(e)}if(!h&&v&&i.areHostMethods(g,["removeAllRanges","addRange"])){B.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),O(this)};var W=function(t,n){var o=a.getRangeDocument(n),r=e.createRange(o);r.collapseToPoint(n.endContainer,n.endOffset),t.nativeSelection.addRange(_(r)),t.nativeSelection.extend(n.startContainer,n.startOffset),t.refresh()};B.addRange=N?function(t,n){var r;if(y&&u&&"Control"==this.docSelection.type)I(this,t);else if(n&&C)W(this,t);else if(R?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(_(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var i=S(this.nativeSelection,this.rangeCount-1);i&&!a.rangesEqual(i,t)&&(t=new s(i))}this._ranges[this.rangeCount-1]=t,T(this,t,L(this.nativeSelection)),this.isCollapsed=o(this)}else this.refresh()}:function(e,t){t&&C?W(this,e):(this.nativeSelection.addRange(_(e)),this.refresh())},B.setRanges=function(e){if(y&&e.length>1)H(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(i.isHostMethod(g,"empty")&&i.isHostMethod(p,"select")&&y&&h))return t.fail("No means of selecting a Range or TextRange was found"),!1;B.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=r.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=r.getDocument(t.item(0)).body.createTextRange())}if(e)e.body.createTextRange().select(),this.docSelection.empty()}}catch(e){}O(this)},B.addRange=function(e){"Control"==this.docSelection.type?I(this,e):(s.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,T(this,e,!1))},B.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?H(this,e):t&&this.addRange(e[0])}}if(B.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new c("INDEX_SIZE_ERR");return this._ranges[e]},h)M=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=r.getBody(t.win.document).createTextRange()).collapse(!0),"Control"==t.docSelection.type?b(t):x(n)?A(t,n):O(t)};else if(i.isHostMethod(g,"getRangeAt")&&"number"==typeof g.rangeCount)M=function(t){if(y&&u&&"Control"==t.docSelection.type)b(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;n<r;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));T(t,t._ranges[t.rangeCount-1],L(t.nativeSelection)),t.isCollapsed=o(t)}else O(t)};else{if(!v||"boolean"!=typeof g.isCollapsed||"boolean"!=typeof p.collapsed||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;M=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=S(n,0),e._ranges=[t],e.rangeCount=1,function(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=o(e)):O(e)}}B.refresh=function(e){var t=e?this._ranges.slice(0):null;if(M(this),e){var n=t.length;if(n!=this._ranges.length)return!1;for(;n--;)if(!a.rangesEqual(t[n],this._ranges[n]))return!1;return!0}};var L,j=function(e,t){var n=e.getAllRanges(),o=!1;e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)o||t!==n[r]?e.addRange(n[r]):o=!0;e.rangeCount||O(e)};function k(e,t){if(e.anchorNode&&r.getDocument(e.anchorNode)!==r.getDocument(t))throw new c("WRONG_DOCUMENT_ERR")}function U(e){var t=[],n=new d(e.anchorNode,e.anchorOffset),o=new d(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var i=0,s=e.rangeCount;i<s;++i)t[i]=a.inspect(e.getRangeAt(i));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+o.inspect()+"]"}B.removeRange=y?function(e){if("Control"==this.docSelection.type){for(var t=this.docSelection.createRange(),n=D(e),o=r.getDocument(t.item(0)),i=r.getBody(o).createControlRange(),a=!1,s=0,c=t.length;s<c;++s)t.item(s)!==n||a?i.add(t.item(s)):a=!0;i.select(),b(this)}else j(this,e)}:function(e){j(this,e)},!h&&v&&e.features.implementsDomRange?(L=function(e){var t=!1;return e.anchorNode&&(t=1==r.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},B.isBackwards=function(){return L(this)}):L=B.isBackwards=function(){return!1},B.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},B.collapse=function(t,n){k(this,t);var o=e.createRange(r.getDocument(t));o.collapseToPoint(t,n),this.removeAllRanges(),this.addRange(o),this.isCollapsed=!0},B.collapseToStart=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},B.collapseToEnd=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},B.selectAllChildren=function(t){k(this,t);var n=e.createRange(r.getDocument(t));n.selectNodeContents(t),this.removeAllRanges(),this.addRange(n)},B.deleteFromDocument=function(){if(y&&u&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var o=0,r=n.length;o<r;++o)n[o].deleteContents();this.addRange(n[r-1])}},B.getAllRanges=function(){return this._ranges.slice(0)},B.setSingleRange=function(e){this.setRanges([e])},B.containsNode=function(e,t){for(var n=0,o=this._ranges.length;n<o;++n)if(this._ranges[n].containsNode(e,t))return!0;return!1},B.toHtml=function(){var e="";if(this.rangeCount){for(var t=a.getRangeDocument(this._ranges[0]).createElement("div"),n=0,o=this._ranges.length;n<o;++n)t.appendChild(this._ranges[n].cloneContents());e=t.innerHTML}return e},B.getName=function(){return"WrappedSelection"},B.inspect=function(){return U(this)},B.detach=function(){this.win._rangySelection=null,this.win=this.anchorNode=this.focusNode=null},P.inspect=U,e.Selection=P,e.selectionPrototype=B,e.addCreateMissingNativeApiListener((function(t){void 0===t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null}))})),
/**
 * @license CSS Class Applier module for Rangy.
 * Adds, removes and toggles CSS classes on Ranges and Selections
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Depends on Rangy core.
 *
 * Copyright 2012, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.3
 * Build date: 26 February 2012
 */
rangy.createModule("CssClassApplier",(function(e,t){e.requireModules(["WrappedSelection","WrappedRange"]);var n=e.dom;function o(e,t){return e.className&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e.className)}function r(e,t){e.className?o(e,t)||(e.className+=" "+t):e.className=t}var i,a,s,c=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){t.className&&(t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?:\\s|$)"),e))}}();function d(e){return e.split(/\s+/).sort().join(" ")}function l(e){return d(e.className)}function f(e,t){return l(e)==l(t)}function u(e){for(var t=e.parentNode;e.hasChildNodes();)t.insertBefore(e.firstChild,e);t.removeChild(e)}function h(e,t){var n=e.cloneRange();n.selectNodeContents(t);var o=n.intersection(e),r=o?o.toString():"";return n.detach(),""!=r}function g(e){return e.getNodes([3],(function(t){return h(e,t)}))}function p(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,o,r,i=0,a=e.attributes.length;i<a;++i)if("class"!=(r=(n=e.attributes[i]).name)){if(o=t.attributes.getNamedItem(r),n.specified!=o.specified)return!1;if(n.specified&&n.nodeValue!==o.nodeValue)return!1}return!0}function m(e,t){for(var o,r=0,i=e.attributes.length;r<i;++r)if(o=e.attributes[r].name,(!t||!n.arrayContains(t,o))&&e.attributes[r].specified&&"class"!=o)return!0;return!1}function v(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||a(e)&&!a(e.parentNode))}function C(e){return(a(e)||1!=e.nodeType&&a(e.parentNode))&&!v(e)}void 0!==window.getComputedStyle?i=function(e,t){return n.getWindow(e).getComputedStyle(e,null)[t]}:void 0!==document.documentElement.currentStyle?i=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),s=document.createElement("div"),a="boolean"==typeof s.isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||a(e.parentNode))};var N=/^inline(-block|-table)?$/i;function R(e){return e&&1==e.nodeType&&!N.test(i(e,"display"))}var E=/[^\r\n\t\f \u200B]/;function w(e,o,r,i){var a,s=0==r;if(n.isAncestorOf(o,e))return e;if(n.isCharacterDataNode(o))if(0==r)r=n.getNodeIndex(o),o=o.parentNode;else{if(r!=o.length)throw t.createError("splitNodeAt should not be called with offset in the middle of a data node ("+r+" in "+o.data);r=n.getNodeIndex(o)+1,o=o.parentNode}if(function(e,t){return n.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}(o,r)){if(!a){var c;for((a=o.cloneNode(!1)).id&&a.removeAttribute("id");c=o.childNodes[r];)a.appendChild(c);n.insertAfter(a,o)}return o==e?a:w(e,a.parentNode,n.getNodeIndex(a),i)}if(e!=o){a=o.parentNode;var d=n.getNodeIndex(o);return s||d++,w(e,a,d,i)}return e}function S(e){var t=e?"nextSibling":"previousSibling";return function(n,o){var r,i,a=n.parentNode,s=n[t];if(s){if(s&&3==s.nodeType)return s}else if(o&&(s=a[t])&&1==s.nodeType&&(i=s,(r=a).tagName==i.tagName&&f(r,i)&&p(r,i)))return s[e?"firstChild":"lastChild"];return null}}var y=S(!1),T=S(!0);function O(e){this.isElementMerge=1==e.nodeType,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}O.prototype={doMerge:function(){for(var e,t,n,o=[],r=0,i=this.textNodes.length;r<i;++r)t=(e=this.textNodes[r]).parentNode,o[r]=e.data,r&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=o.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;t<n;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}};var _=["elementTagName","ignoreWhiteSpace","applyToEditableOnly"],D={class:"className"};function x(e,t,n){var o,r,i,a;this.cssClass=e;var s=null;if("object"==typeof t&&null!==t){for(n=t.tagNames,s=t.elementProperties,r=0;a=_[r++];)t.hasOwnProperty(a)&&(this[a]=t[a]);o=t.normalize}else o=t;this.normalize=void 0===o||o,this.attrExceptions=[];var c=document.createElement(this.elementTagName);for(var l in this.elementProperties={},s)s.hasOwnProperty(l)&&(D.hasOwnProperty(l)&&(l=D[l]),c[l]=s[l],this.elementProperties[l]=c[l],this.attrExceptions.push(l));this.elementSortedClassName=this.elementProperties.hasOwnProperty("className")?d(this.elementProperties.className+" "+e):e,this.applyToAnyTagName=!1;var f,u=typeof n;if("string"==u)"*"==n?this.applyToAnyTagName=!0:this.tagNames=(f=n.toLowerCase(),f.replace(/^\s\s*/,"").replace(/\s\s*$/,"")).split(/\s*,\s*/);else if("object"==u&&"number"==typeof n.length)for(this.tagNames=[],r=0,i=n.length;r<i;++r)"*"==n[r]?this.applyToAnyTagName=!0:this.tagNames.push(n[r].toLowerCase());else this.tagNames=[this.elementTagName]}x.prototype={elementTagName:"span",elementProperties:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,hasClass:function(e){return 1==e.nodeType&&n.arrayContains(this.tagNames,e.tagName.toLowerCase())&&o(e,this.cssClass)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e,this.cssClass))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||C(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&function(e){if(0==e.data.length)return!0;if(E.test(e.data))return!1;switch(i(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return R(e.previousSibling)||R(e.nextSibling)}(e)},postApply:function(e,t,n){for(var o,r,i,a=e[0],s=e[e.length-1],c=[],d=a,l=s,f=0,u=s.length,h=0,g=e.length;h<g;++h)r=e[h],(i=y(r,!n))?(o||(o=new O(i),c.push(o)),o.textNodes.push(r),r===a&&(f=(d=o.firstTextNode).length),r===s&&(l=o.firstTextNode,u=o.getLength())):o=null;var p=T(s,!n);if(p&&(o||(o=new O(s),c.push(o)),o.textNodes.push(p)),c.length){for(h=0,g=c.length;h<g;++h)c[h].doMerge();t.setStart(d,f),t.setEnd(l,u)}},createContainer:function(t){var n=t.createElement(this.elementTagName);return e.util.extend(n,this.elementProperties),r(n,this.cssClass),n},applyToTextNode:function(e){var t=e.parentNode;if(1==t.childNodes.length&&n.arrayContains(this.tagNames,t.tagName.toLowerCase()))r(t,this.cssClass);else{var o=this.createContainer(n.getDocument(e));e.parentNode.insertBefore(o,e),o.appendChild(e)}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&l(e)==this.elementSortedClassName&&function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}(e,this.elementProperties)&&!m(e,this.attrExceptions)&&this.isModifiable(e)},undoToTextNode:function(e,t,n){if(!t.containsNode(n)){var o=t.cloneRange();o.selectNode(n),o.isPointInRange(t.endContainer,t.endOffset)&&(w(n,t.endContainer,t.endOffset,[t]),t.setEndAfter(n)),o.isPointInRange(t.startContainer,t.startOffset)&&(n=w(n,t.startContainer,t.startOffset,[t]))}this.isRemovable(n)?u(n):c(n,this.cssClass)},applyToRange:function(e){e.splitBoundaries();var t=g(e);if(t.length){for(var n,o=0,r=t.length;o<r;++o)n=t[o],this.isIgnorableWhiteSpaceNode(n)||this.getSelfOrAncestorWithClass(n)||!this.isModifiable(n)||this.applyToTextNode(n);e.setStart(t[0],0),n=t[t.length-1],e.setEnd(n,n.length),this.normalize&&this.postApply(t,e,!1)}},applyToSelection:function(t){t=t||window;var n,o=e.getSelection(t),r=o.getAllRanges();o.removeAllRanges();for(var i=r.length;i--;)n=r[i],this.applyToRange(n),o.addRange(n)},undoToRange:function(e){e.splitBoundaries();var t,n,o=g(e),r=o[o.length-1];if(o.length){for(var i=0,a=o.length;i<a;++i)t=o[i],(n=this.getSelfOrAncestorWithClass(t))&&this.isModifiable(t)&&this.undoToTextNode(t,e,n),e.setStart(o[0],0),e.setEnd(r,r.length);this.normalize&&this.postApply(o,e,!0)}},undoToSelection:function(t){t=t||window;var n,o=e.getSelection(t),r=o.getAllRanges();o.removeAllRanges();for(var i=0,a=r.length;i<a;++i)n=r[i],this.undoToRange(n),o.addRange(n)},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var o=n.intersection(t),r=o?o.toString():"";return n.detach(),r},isAppliedToRange:function(e){if(e.collapsed)return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);for(var t,n=e.getNodes([3]),o=0;t=n[o++];)if(!this.isIgnorableWhiteSpaceNode(t)&&h(e,t)&&this.isModifiable(t)&&!this.getSelfOrAncestorWithClass(t))return!1;return!0},isAppliedToSelection:function(t){t=t||window;for(var n=e.getSelection(t).getAllRanges(),o=n.length;o--;)if(!this.isAppliedToRange(n[o]))return!1;return!0},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},detach:function(){}},x.util={hasClass:o,addClass:r,removeClass:c,hasSameClasses:f,replaceWithOwnChildren:u,elementsHaveSameNonClassAttributes:p,elementHasNonClassAttributes:m,splitNodeAt:w,isEditableElement:a,isEditingHost:v,isEditable:C},e.CssClassApplier=x,e.createCssClassApplier=function(e,t,n){return new x(e,t,n)}})),
/**
 * @license Selection save and restore module for Rangy.
 * Saves and restores user selections using marker invisible elements in the DOM.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Depends on Rangy core.
 *
 * Copyright 2012, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.3
 * Build date: 26 February 2012
 */
rangy.createModule("SaveRestore",(function(e,t){e.requireModules(["DomUtil","DomRange","WrappedRange"]);var n=e.dom;function o(e,t){return(t||document).getElementById(e)}function r(e,t){var o,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=n.getDocument(e.startContainer),a=e.cloneRange();return a.collapse(t),(o=i.createElement("span")).id=r,o.style.lineHeight="0",o.style.display="none",o.className="rangySelectionBoundary",o.appendChild(i.createTextNode("\ufeff")),a.insertNode(o),a.detach(),o}function i(e,n,r,i){var a=o(r,e);a?(n[i?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function a(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function s(e,t){var n=o(t,e);n&&n.parentNode.removeChild(n)}e.saveSelection=function(n){var i=(n=n||window).document;if(e.isSelectionValid(n)){var s,c,d,l=e.getSelection(n),f=l.getAllRanges(),u=[];f.sort(a);for(var h=0,g=f.length;h<g;++h)(d=f[h]).collapsed?(c=r(d,!1),u.push({markerId:c.id,collapsed:!0})):(c=r(d,!1),s=r(d,!0),u[h]={startMarkerId:s.id,endMarkerId:c.id,collapsed:!1,backwards:1==f.length&&l.isBackwards()});for(h=g-1;h>=0;--h)(d=f[h]).collapsed?d.collapseBefore(o(u[h].markerId,i)):(d.setEndBefore(o(u[h].endMarkerId,i)),d.setStartAfter(o(u[h].startMarkerId,i)));return l.setRanges(f),{win:n,doc:i,rangeInfos:u,restored:!1}}t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.")},e.restoreSelection=function(n,r){if(!n.restored){for(var a,s,c=n.rangeInfos,d=e.getSelection(n.win),l=[],f=c.length,u=f-1;u>=0;--u){if(a=c[u],s=e.createRange(n.doc),a.collapsed){var h=o(a.markerId,n.doc);if(h){h.style.display="inline";var g=h.previousSibling;g&&3==g.nodeType?(h.parentNode.removeChild(h),s.collapseToPoint(g,g.length)):(s.collapseBefore(h),h.parentNode.removeChild(h))}else t.warn("Marker element has been removed. Cannot restore selection.")}else i(n.doc,s,a.startMarkerId,!0),i(n.doc,s,a.endMarkerId,!1);1==f&&s.normalizeBoundaries(),l[u]=s}1==f&&r&&e.features.selectionHasExtend&&c[0].backwards?(d.removeAllRanges(),d.addRange(l[0],!0)):d.setRanges(l),n.restored=!0}},e.removeMarkerElement=s,e.removeMarkers=function(e){for(var t,n=e.rangeInfos,o=0,r=n.length;o<r;++o)(t=n[o]).collapsed?s(e.doc,t.markerId):(s(e.doc,t.startMarkerId),s(e.doc,t.endMarkerId))}})),
/**
 * @license Serializer module for Rangy.
 * Serializes Ranges and Selections. An example use would be to store a user's selection on a particular page in a
 * cookie or local storage and restore it on the user's next visit to the same page.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Depends on Rangy core.
 *
 * Copyright 2012, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.3
 * Build date: 26 February 2012
 */
rangy.createModule("Serializer",(function(e,t){e.requireModules(["WrappedSelection","WrappedRange"]);"undefined"!=typeof encodeURIComponent&&"undefined"!=typeof decodeURIComponent||t.fail("Global object is missing encodeURIComponent and/or decodeURIComponent method");var n,o=(n=null,function(e){for(var t=function(e){for(var t,n=[],o=0,r=e.length;o<r;++o)(t=e.charCodeAt(o))<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}(e),o=-1,r=(n||(n=function(){for(var e,t,n=[],o=0;o<256;++o){for(t=o,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[o]=t>>>0}return n}()),n),i=0,a=t.length;i<a;++i)o=o>>>8^r[255&(o^t[i])];return(-1^o)>>>0}),r=e.dom;function i(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){var t=function e(t,n){n=n||[];var o=t.nodeType,r=t.childNodes,a=r.length,s=[o,t.nodeName,a].join(":"),c="",d="";switch(o){case 3:c=i(t.nodeValue);break;case 8:c="\x3c!--"+i(t.nodeValue)+"--\x3e";break;default:c="<"+s+">",d="</>"}c&&n.push(c);for(var l=0;l<a;++l)e(r[l],n);return d&&n.push(d),n}(e).join("");return o(t).toString(16)}function s(e,t,n){var o=[],i=e;for(n=n||r.getDocument(e).documentElement;i&&i!=n;)o.push(r.getNodeIndex(i,!0)),i=i.parentNode;return o.join("/")+":"+t}function c(e,n,o){n?o=o||r.getDocument(n):n=(o=o||document).documentElement;for(var i,a=e.split(":"),s=n,c=a[0]?a[0].split("/"):[],d=c.length;d--;){if(!((i=parseInt(c[d],10))<s.childNodes.length))throw t.createError("deserializePosition failed: node "+r.inspectNode(s)+" has no child with index "+i+", "+d);s=s.childNodes[parseInt(c[d],10)]}return new r.DomPosition(s,parseInt(a[1],10))}function d(t,n,o){if(o=o||e.DomRange.getRangeDocument(t).documentElement,!r.isAncestorOf(o,t.commonAncestorContainer,!0))throw new Error("serializeRange: range is not wholly contained within specified root node");var i=s(t.startContainer,t.startOffset,o)+","+s(t.endContainer,t.endOffset,o);return n||(i+="{"+a(o)+"}"),i}function l(t,n,o){n?o=o||r.getDocument(n):n=(o=o||document).documentElement;var i=/^([^,]+),([^,\{]+)({([^}]+)})?$/.exec(t),s=i[4],d=a(n);if(s&&s!==a(n))throw new Error("deserializeRange: checksums of serialized range root node ("+s+") and target root node ("+d+") do not match");var l=c(i[1],n,o),f=c(i[2],n,o),u=e.createRange(o);return u.setStart(l.node,l.offset),u.setEnd(f.node,f.offset),u}function f(e,t,n){t?n=n||r.getDocument(t):t=(n=n||document).documentElement;var o=/^([^,]+),([^,]+)({([^}]+)})?$/.exec(e)[3];return!o||o===a(t)}function u(t,n,o){for(var r=(t=t||e.getSelection()).getAllRanges(),i=[],a=0,s=r.length;a<s;++a)i[a]=d(r[a],n,o);return i.join("|")}function h(t,n,o){n?o=o||r.getWindow(n):n=(o=o||window).document.documentElement;for(var i=t.split("|"),a=e.getSelection(o),s=[],c=0,d=i.length;c<d;++c)s[c]=l(i[c],n,o.document);return a.setRanges(s),a}e.serializePosition=s,e.deserializePosition=c,e.serializeRange=d,e.deserializeRange=l,e.canDeserializeRange=f,e.serializeSelection=u,e.deserializeSelection=h,e.canDeserializeSelection=function(e,t,n){var o;t?o=n?n.document:r.getDocument(t):t=(n=n||window).document.documentElement;for(var i=e.split("|"),a=0,s=i.length;a<s;++a)if(!f(i[a],t,o))return!1;return!0},e.restoreSelectionFromCookie=function(e){var t=function(e){for(var t,n,o=e.split(/[;,]/),r=0,i=o.length;r<i;++r)if("rangySerializedSelection"==(t=o[r].split("="))[0].replace(/^\s+/,"")&&(n=t[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}((e=e||window).document.cookie);t&&h(t,e.doc)},e.saveSelectionCookie=function(t,n){t=t||window;var o=(n="object"==typeof n?n:{}).expires?";expires="+n.expires.toUTCString():"",r=n.path?";path="+n.path:"",i=n.domain?";domain="+n.domain:"",a=n.secure?";secure":"",s=u(e.getSelection(t));t.document.cookie=encodeURIComponent("rangySerializedSelection")+"="+encodeURIComponent(s)+o+r+i+a},e.getElementChecksum=a}));
