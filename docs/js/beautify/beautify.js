!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.requirejs){var e={},n={},i=function(t,e){return{}.hasOwnProperty.call(t,e)},r=function(t,e){for(var n,i,r=[],s=0,_=(n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/")).length;s<_;s++)".."===(i=n[s])?r.pop():"."!==i&&""!==i&&r.push(i);return r.join("/")},s=function(e,i){var s,_={id:e,exports:{}};return n[e]=_,i(_.exports,(s=e,function(e){var n=function(t){return t.split("/").slice(0,-1).join("/")}(s),i=r(n,e);return t.requirejs(i,s)}),_),_.exports},_=function(t,n){if("object"==typeof t)for(var r in t)i(t,r)&&(e[r]=t[r]);else e[t]=n};t.requirejs=function(t,_){var a=r(t,".");if(null==_&&(_="/"),i(n,a))return n[a].exports;if(i(e,a))return s(a,e[a]);var o=r(a,"./index");if(i(n,o))return n[o].exports;if(i(e,o))return s(o,e[o]);throw new Error('Cannot find module "'+t+'" from "'+_+'"')},t.requirejs.define=_,t.requirejs.register=_,t.requirejs.list=function(){var t=[];for(var n in e)i(e,n)&&t.push(n);return t},t.requirejs.brunch=!0}}(),function(){function t(e,n){var i=(n=n||{}).indent_size||4,r=n.indent_char||" ",s=void 0===n.selector_separator_newline||n.selector_separator_newline,_=void 0!==n.end_with_newline&&n.end_with_newline;"string"==typeof i&&(i=parseInt(i,10));var a,o=/^\s+$/,h=-1;function l(){return(a=e.charAt(++h))||""}function c(t){var n=h;return t&&p(),result=e.charAt(h+1)||"",h=n-1,l(),result}function u(t){for(var n=h;l();)if("\\"===a)l();else{if(-1!==t.indexOf(a))break;if("\n"===a)break}return e.substring(n,h+1)}function p(){for(var t="";o.test(c());)l(),t+=a;return t}function f(){var t="";for(a&&o.test(a)&&(t=a);o.test(l());)t+=a;return t}function d(t){var n=h;t="/"===c();for(l();l();){if(!t&&"*"===a&&"/"===c()){l();break}if(t&&"\n"===a)return e.substring(n,h)}return e.substring(n,h)+a}function T(t){return e.substring(h-t.length,h).toLowerCase()===t}function E(){for(var t=h+1;t<e.length;t++){var n=e.charAt(t);if("{"===n)return!0;if(";"===n||"}"===n||")"===n)return!1}return!1}var g=e.match(/^[\t ]*/)[0],x=new Array(i+1).join(r),K=0,R=0;var w={"{":function(t){w.singleSpace(),v.push(t),w.newLine()},"}":function(t){w.newLine(),v.push(t),w.newLine()},_lastCharWhitespace:function(){return o.test(v[v.length-1])},newLine:function(t){t||w.trim(),v.length&&v.push("\n"),g&&v.push(g)},singleSpace:function(){v.length&&!w._lastCharWhitespace()&&v.push(" ")},trim:function(){for(;w._lastCharWhitespace();)v.pop()}},v=[];g&&v.push(g);for(var b,y,m,A=!1,O=!1,k="",S="";;){var N=f(),D=""!==N,C=-1!==N.indexOf("\n");S=k,k=a;if(!a)break;if("/"===a&&"*"===c()){var L=T("");w.newLine(),v.push(d()),w.newLine(),L&&w.newLine(!0)}else if("/"===a&&"/"===c())C||"{"===S||w.trim(),w.singleSpace(),v.push(d()),w.newLine();else if("@"===a){D&&w.singleSpace(),v.push(a);var I=(b=": ,;{}()[]/='\"",y=void 0,m=void 0,y=h,m=u(b),h=y-1,l(),m).replace(/\s$/,"");I in t.NESTED_AT_RULE?(R+=1,I in t.CONDITIONAL_GROUP_RULE&&(O=!0)):": ".indexOf(I[I.length-1])>=0&&(l(),I=u(": ").replace(/\s$/,""),v.push(I),w.singleSpace())}else"{"===a?"}"===c(!0)?(p(),l(),w.singleSpace(),v.push("{}")):(K++,g+=x,w["{"](a),O?(O=!1,A=K>R):A=K>=R):"}"===a?(K--,g=g.slice(0,-i),w["}"](a),A=!1,R&&R--):":"===a?(p(),!A&&!O||T("&")||E()?":"===c()?(l(),v.push("::")):v.push(":"):(v.push(":"),w.singleSpace())):'"'===a||"'"===a?(D&&w.singleSpace(),v.push(u(a))):";"===a?(v.push(a),w.newLine()):"("===a?T("url")?(v.push(a),p(),l()&&(")"!==a&&'"'!==a&&"'"!==a?v.push(u(")")):h--)):(D&&w.singleSpace(),v.push(a),p()):")"===a?v.push(a):","===a?(v.push(a),p(),!A&&s?w.newLine():w.singleSpace()):"]"===a?v.push(a):"["===a?(D&&w.singleSpace(),v.push(a)):"="===a?(p(),v.push(a)):(D&&w.singleSpace(),v.push(a))}var j=v.join("").replace(/[\r\n\t ]+$/,"");return _&&(j+="\n"),j}t.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},t.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},"function"==typeof define&&define.amd?define([],(function(){return{css_beautify:t}})):"undefined"!=typeof exports?exports.css_beautify=t:"undefined"!=typeof window?window.css_beautify=t:"undefined"!=typeof global&&(global.css_beautify=t)}(),function(){function t(t){return t.replace(/\s+$/g,"")}function e(e,n,i,r){var s,_,a,o,h,l,c,u,p,f,d;for(void 0!==(n=n||{}).wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),_=void 0!==n.indent_inner_html&&n.indent_inner_html,a=void 0===n.indent_size?4:parseInt(n.indent_size,10),o=void 0===n.indent_char?" ":n.indent_char,l=void 0===n.brace_style?"collapse":n.brace_style,h=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),c=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],u=void 0===n.preserve_newlines||n.preserve_newlines,p=u?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,f=void 0!==n.indent_handlebars&&n.indent_handlebars,d=void 0!==n.end_with_newline&&n.end_with_newline,(s=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=_,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}},this.is_whitespace=function(t){for(;0<t.length;t++)if(!this.Utils.in_array(t.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var t="";if(t=this.input.charAt(this.pos),this.Utils.in_array(t,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(t,this.Utils.whitespace);)u&&"\n"===t&&this.newlines<=p&&(this.newlines+=1),this.pos++,t=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(t){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,t),this.print_indentation(t)):(this.line_char_count++,t.push(" "))},this.get_content=function(){for(var t="",e=[];"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(e);else{if(f){var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos===this.input.length)return["","TK_EOF"];var e="",n=new RegExp("</"+t+"\\s*>","igm");n.lastIndex=this.pos;var i=n.exec(this.input),r=i?i.index:this.input.length;return this.pos<r&&(e=this.input.substring(this.pos,r),this.pos=r),e},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1===this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.indent_to_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]])}},this.get_tag=function(t){var e,n,i="",r=[],s="",_=!1,a=this.pos,o=this.line_char_count;t=void 0!==t&&t;do{if(this.pos>=this.input.length)return t&&(this.pos=a,this.line_char_count=o),r.length?r.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))_=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),_=!0),"="===i&&(_=!1),r.length&&"="!==r[r.length-1]&&">"!==i&&_&&(this.space_or_wrap(r),_=!1),f&&"<"===n&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),r.length&&" "!==r[r.length-1]&&"<"!==r[r.length-1]&&(i=" "+i),_=!0),"<"!==i||n||(e=this.pos-1,n="<"),f&&!n&&r.length>=2&&"{"===r[r.length-1]&&"{"==r[r.length-2]&&(e="#"===i||"/"===i?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(i),r[1]&&"!"===r[1]){r=[this.get_comment(e)];break}if(f&&"{"===n&&r.length>2&&"}"===r[r.length-2]&&"}"===r[r.length-1])break}}while(">"!==i);var h,l,u=r.join("");h=-1!==u.indexOf(" ")?u.indexOf(" "):"{"===u[0]?u.indexOf("}"):u.indexOf(">"),l="<"!==u[0]&&f?"#"===u[2]?3:2:1;var p=u.substring(l,h).toLowerCase();return"/"===u.charAt(u.length-2)||this.Utils.in_array(p,this.Utils.single_token)?t||(this.tag_type="SINGLE"):f&&"{"===u[0]&&"else"===p?t||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(p,c)?(s=this.get_unformatted("</"+p+">",u),r.push(s),this.pos-1,this.tag_type="SINGLE"):"script"===p&&(-1===u.search("type")||u.search("type")>-1&&u.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?t||(this.record_tag(p),this.tag_type="SCRIPT"):"style"===p&&(-1===u.search("type")||u.search("type")>-1&&u.search("text/css")>-1)?t||(this.record_tag(p),this.tag_type="STYLE"):"!"===p.charAt(0)?t||(this.tag_type="SINGLE",this.traverse_whitespace()):t||("/"===p.charAt(0)?(this.retrieve_tag(p.substring(1)),this.tag_type="END"):(this.record_tag(p),"html"!==p.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(p,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),t&&(this.pos=a,this.line_char_count=o),r.join("")},this.get_comment=function(t){var e="",n=">",i=!1;for(this.pos=t,input_char=this.input.charAt(this.pos),this.pos++;this.pos<=this.input.length&&((e+=input_char)[e.length-1]!==n[n.length-1]||-1===e.indexOf(n));)!i&&e.length<10&&(0===e.indexOf("<![if")?(n="<![endif]>",i=!0):0===e.indexOf("<![cdata[")?(n="]]>",i=!0):0===e.indexOf("<![")?(n="]>",i=!0):0===e.indexOf("\x3c!--")&&(n="--\x3e",i=!0)),input_char=this.input.charAt(this.pos),this.pos++;return e},this.get_unformatted=function(t,e){if(e&&-1!==e.toLowerCase().indexOf(t))return"";var n="",i="",r=0,s=!0;do{if(this.pos>=this.input.length)return i;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!s){this.line_char_count--;continue}if("\n"===n||"\r"===n){i+="\n",this.line_char_count=0;continue}}i+=n,this.line_char_count++,s=!0,f&&"{"===n&&i.length&&"{"===i[i.length-2]&&(r=(i+=this.get_unformatted("}}")).length)}while(-1===i.toLowerCase().indexOf(t,r));return i},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var e=this.last_token.substr(7);return"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_"+e]}return"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(t){return(t=this.indent_level+t||0)<1?"":Array(t+1).join(this.indent_string)},this.is_unformatted=function(t,e){if(!this.Utils.in_array(t,e))return!1;if("a"!==t.toLowerCase()||!this.Utils.in_array("a",e))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,e))},this.printer=function(e,n,i,r,s){this.input=e||"",this.output=[],this.indent_character=n,this.indent_string="",this.indent_size=i,this.brace_style=s,this.indent_level=0,this.wrap_line_length=r,this.line_char_count=0;for(var _=0;_<this.indent_size;_++)this.indent_string+=this.indent_character;this.print_newline=function(e,n){this.line_char_count=0,n&&n.length&&(e||"\n"!==n[n.length-1])&&("\n"!==n[n.length-1]&&(n[n.length-1]=t(n[n.length-1])),n.push("\n"))},this.print_indentation=function(t){for(var e=0;e<this.indent_level;e++)t.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(t){this.is_whitespace(t)&&!this.output.length||((t||""!==t)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),t=t.replace(/^\s+/g,"")),this.print_token_raw(t))},this.print_token_raw=function(e){this.newlines>0&&(e=t(e)),e&&""!==e&&(e.length>1&&"\n"===e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(e,o,a,h,l);;){var T=s.get_token();if(s.token_text=T[0],s.token_type=T[1],"TK_EOF"===s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===s.last_token&&""===s.last_text){var E=s.token_text.match(/\w+/)[0],g=null;s.output.length&&(g=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),null!==g&&g[1]===E||s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var x=s.token_text.match(/^\s*<([a-z-]+)/i);x&&s.Utils.in_array(x[1],c)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var K,R=s.token_text,w=1;"TK_SCRIPT"===s.token_type?K="function"==typeof i&&i:"TK_STYLE"===s.token_type&&(K="function"==typeof r&&r),"keep"===n.indent_scripts?w=0:"separate"===n.indent_scripts&&(w=-s.indent_level);var v=s.get_full_indent(w);if(K)R=K(R.replace(/^\s*/,v),n);else{var b=R.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,y=s.get_full_indent(w-b);R=R.replace(/^\s*/,v).replace(/\r\n|\r|\n/g,"\n"+y).replace(/\s+$/,"")}R&&(s.print_token_raw(R),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var m=s.output.join("").replace(/[\r\n\t ]+$/,"");return d&&(m+="\n"),m}if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],(function(t){var n=t("./beautify"),i=t("./beautify-css");return{html_beautify:function(t,r){return e(t,r,n.js_beautify,i.css_beautify)}}}));else if("undefined"!=typeof exports){var n=require("./beautify.js"),i=require("./beautify-css.js");exports.html_beautify=function(t,r){return e(t,r,n.js_beautify,i.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(t,n){return e(t,n,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(t,n){return e(t,n,global.js_beautify,global.css_beautify)})}(),function(){var t={};function e(t,e){for(var n=0;n<e.length;n+=1)if(e[n]===t)return!0;return!1}function n(t){return t.replace(/^\s+|\s+$/g,"")}function i(t,e){"use strict";return new c(t,e).beautify()}!function(t){var e="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",n=new RegExp("["+e+"]"),i=new RegExp("["+e+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&n.test(String.fromCharCode(t)))},t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&i.test(String.fromCharCode(t))))}}(t);var r="BlockStatement",s="Statement",_="ObjectLiteral",a="ArrayLiteral",o="ForInitializer",h="Conditional",l="Expression";function c(t,i){"use strict";var c,u,f,T,E,g,x,K,R,w,v,b,y,m=[],A="";function O(t,e){var n=0;return t&&(n=t.indentation_level,!c.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level)),{mode:e,parent:t,last_text:t?t.last_text:"",last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:t?t.line_indent_level:n,start_line_index:c.get_line_number(),ternary_depth:0}}for(b={TK_START_EXPR:function(){U();var t=l;if("["===T.text){if("TK_WORD"===E||")"===K.last_text)return"TK_RESERVED"===E&&e(K.last_text,f.line_starters)&&(c.space_before_token=!0),I(t),C(),L(),void(y.space_in_paren&&(c.space_before_token=!0));t=a,j(K.mode)&&("["!==K.last_text&&(","!==K.last_text||"]"!==g&&"}"!==g)||y.keep_array_indentation||D())}else"TK_RESERVED"===E&&"for"===K.last_text?t=o:"TK_RESERVED"===E&&e(K.last_text,["if","while"])&&(t=h);";"===K.last_text||"TK_START_BLOCK"===E?D():"TK_END_EXPR"===E||"TK_START_EXPR"===E||"TK_END_BLOCK"===E||"."===K.last_text?N(T.wanted_newline):"TK_RESERVED"===E&&"("===T.text||"TK_WORD"===E||"TK_OPERATOR"===E?"TK_RESERVED"===E&&("function"===K.last_word||"typeof"===K.last_word)||"*"===K.last_text&&"function"===g?y.space_after_anon_function&&(c.space_before_token=!0):"TK_RESERVED"!==E||!e(K.last_text,f.line_starters)&&"catch"!==K.last_text||y.space_before_conditional&&(c.space_before_token=!0):c.space_before_token=!0;"("===T.text&&("TK_EQUALS"!==E&&"TK_OPERATOR"!==E||M()||N());I(t),C(),y.space_in_paren&&(c.space_before_token=!0);L()},TK_END_EXPR:function(){for(;K.mode===s;)V();K.multiline_frame&&N("]"===T.text&&j(K.mode)&&!y.keep_array_indentation);y.space_in_paren&&("TK_START_EXPR"!==E||y.space_in_empty_paren?c.space_before_token=!0:(c.trim(),c.space_before_token=!1));"]"===T.text&&y.keep_array_indentation?(C(),V()):(V(),C());c.remove_redundant_indentation(R),K.do_while&&R.mode===h&&(R.mode=l,K.do_block=!1,K.do_while=!1)},TK_START_BLOCK:function(){var t=B(1),n=B(2);n&&(":"===n.text&&e(t.type,["TK_STRING","TK_WORD","TK_RESERVED"])||e(t.text,["get","set"])&&e(n.type,["TK_WORD","TK_RESERVED"]))?e(g,["class","interface"])?I(r):I(_):I(r);var i=!t.comments_before.length&&"}"===t.text&&"function"===K.last_word&&"TK_END_EXPR"===E;"expand"===y.brace_style?"TK_OPERATOR"!==E&&(i||"TK_EQUALS"===E||"TK_RESERVED"===E&&W(K.last_text)&&"else"!==K.last_text)?c.space_before_token=!0:D(!1,!0):"TK_OPERATOR"!==E&&"TK_START_EXPR"!==E?"TK_START_BLOCK"===E?D():c.space_before_token=!0:j(R.mode)&&","===K.last_text&&("}"===g?c.space_before_token=!0:D());C(),L()},TK_END_BLOCK:function(){for(;K.mode===s;)V();var t="TK_START_BLOCK"===E;"expand"===y.brace_style?t||D():t||(j(K.mode)&&y.keep_array_indentation?(y.keep_array_indentation=!1,D(),y.keep_array_indentation=!0):D());V(),C()},TK_WORD:G,TK_RESERVED:G,TK_SEMICOLON:function(){U()&&(c.space_before_token=!1);for(;K.mode===s&&!K.if_block&&!K.do_block;)V();C()},TK_STRING:function(){U()||"TK_RESERVED"===E||"TK_WORD"===E?c.space_before_token=!0:"TK_COMMA"===E||"TK_START_EXPR"===E||"TK_EQUALS"===E||"TK_OPERATOR"===E?M()||N():D();C()},TK_EQUALS:function(){U();K.declaration_statement&&(K.declaration_assignment=!0);c.space_before_token=!0,C(),c.space_before_token=!0},TK_OPERATOR:function(){U();if("TK_RESERVED"===E&&W(K.last_text))return c.space_before_token=!0,void C();if("*"===T.text&&"TK_DOT"===E)return void C();if(":"===T.text&&K.in_case)return K.case_body=!0,L(),C(),D(),void(K.in_case=!1);if("::"===T.text)return void C();!T.wanted_newline||"--"!==T.text&&"++"!==T.text||D(!1,!0);"TK_OPERATOR"===E&&N();var t=!0,n=!0;e(T.text,["--","++","!","~"])||e(T.text,["-","+"])&&(e(E,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||e(K.last_text,f.line_starters)||","===K.last_text)?(t=!1,n=!1,";"===K.last_text&&P(K.mode)&&(t=!0),"TK_RESERVED"===E||"TK_END_EXPR"===E?t=!0:"TK_OPERATOR"===E&&(t=e(T.text,["--","-"])&&e(K.last_text,["--","-"])||e(T.text,["++","+"])&&e(K.last_text,["++","+"])),K.mode!==r&&K.mode!==s||"{"!==K.last_text&&";"!==K.last_text||D()):":"===T.text?0===K.ternary_depth?t=!1:K.ternary_depth-=1:"?"===T.text?K.ternary_depth+=1:"*"===T.text&&"TK_RESERVED"===E&&"function"===K.last_text&&(t=!1,n=!1);c.space_before_token=c.space_before_token||t,C(),c.space_before_token=n},TK_COMMA:function(){if(K.declaration_statement)return P(K.parent.mode)&&(K.declaration_assignment=!1),C(),void(K.declaration_assignment?(K.declaration_assignment=!1,D(!1,!0)):c.space_before_token=!0);C(),K.mode===_||K.mode===s&&K.parent.mode===_?(K.mode===s&&V(),D()):c.space_before_token=!0},TK_BLOCK_COMMENT:function(){var t,e=function(t){t=t.replace(/\x0d/g,"");var e=[],n=t.indexOf("\n");for(;-1!==n;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf("\n");t.length&&e.push(t);return e}(T.text),i=!1,r=!1,s=T.whitespace_before.join(""),_=s.length;D(!1,!0),e.length>1&&(!function(t,e){for(var i=0;i<t.length;i++){if(n(t[i]).charAt(0)!==e)return!1}return!0}(e.slice(1),"*")?function(t,e){for(var n,i=0,r=t.length;i<r;i++)if((n=t[i])&&0!==n.indexOf(e))return!1;return!0}(e.slice(1),s)&&(r=!0):i=!0);for(C(e[0]),t=1;t<e.length;t++)D(!1,!0),i?C(" "+n(e[t])):r&&e[t].length>_?C(e[t].substring(_)):c.add_token(e[t]);D(!1,!0)},TK_INLINE_COMMENT:function(){c.space_before_token=!0,C(),c.space_before_token=!0},TK_COMMENT:function(){T.wanted_newline?D(!1,!0):c.trim(!0);c.space_before_token=!0,C(),D(!1,!0)},TK_DOT:function(){U();"TK_RESERVED"===E&&W(K.last_text)?c.space_before_token=!0:N(")"===K.last_text&&y.break_chained_methods);C()},TK_UNKNOWN:function(){C(),"\n"===T.text[T.text.length-1]&&D()},TK_EOF:function(){for(;K.mode===s;)V()}},y={},void 0!==(i=i||{}).braces_on_own_line&&(y.brace_style=i.braces_on_own_line?"expand":"collapse"),y.brace_style=i.brace_style?i.brace_style:y.brace_style?y.brace_style:"collapse","expand-strict"===y.brace_style&&(y.brace_style="expand"),y.indent_size=i.indent_size?parseInt(i.indent_size,10):4,y.indent_char=i.indent_char?i.indent_char:" ",y.preserve_newlines=void 0===i.preserve_newlines||i.preserve_newlines,y.break_chained_methods=void 0!==i.break_chained_methods&&i.break_chained_methods,y.max_preserve_newlines=void 0===i.max_preserve_newlines?0:parseInt(i.max_preserve_newlines,10),y.space_in_paren=void 0!==i.space_in_paren&&i.space_in_paren,y.space_in_empty_paren=void 0!==i.space_in_empty_paren&&i.space_in_empty_paren,y.jslint_happy=void 0!==i.jslint_happy&&i.jslint_happy,y.space_after_anon_function=void 0!==i.space_after_anon_function&&i.space_after_anon_function,y.keep_array_indentation=void 0!==i.keep_array_indentation&&i.keep_array_indentation,y.space_before_conditional=void 0===i.space_before_conditional||i.space_before_conditional,y.unescape_strings=void 0!==i.unescape_strings&&i.unescape_strings,y.wrap_line_length=void 0===i.wrap_line_length?0:parseInt(i.wrap_line_length,10),y.e4x=void 0!==i.e4x&&i.e4x,y.end_with_newline=void 0!==i.end_with_newline&&i.end_with_newline,y.jslint_happy&&(y.space_after_anon_function=!0),i.indent_with_tabs&&(y.indent_char="\t",y.indent_size=1),x="";y.indent_size>0;)x+=y.indent_char,y.indent_size-=1;var k=0;if(t&&t.length){for(;" "===t.charAt(k)||"\t"===t.charAt(k);)A+=t.charAt(k),k+=1;t=t.substring(k)}function S(t){var e=t.newlines;if(y.keep_array_indentation&&j(K.mode))for(n=0;n<e;n+=1)D(n>0);else if(y.max_preserve_newlines&&e>y.max_preserve_newlines&&(e=y.max_preserve_newlines),y.preserve_newlines&&t.newlines>1){D();for(var n=1;n<e;n+=1)D(!0)}b[(T=t).type]()}function N(t){if(t=void 0!==t&&t,!c.just_added_newline())if(y.preserve_newlines&&T.wanted_newline||t)D(!1,!0);else if(y.wrap_line_length){c.current_line.get_character_count()+T.text.length+(c.space_before_token?1:0)>=y.wrap_line_length&&D(!1,!0)}}function D(t,e){if(!e&&";"!==K.last_text&&","!==K.last_text&&"="!==K.last_text&&"TK_OPERATOR"!==E)for(;K.mode===s&&!K.if_block&&!K.do_block;)V();c.add_new_line(t)&&(K.multiline_frame=!0)}function C(t){t=t||T.text,function(){if(c.just_added_newline())if(y.keep_array_indentation&&j(K.mode)&&T.wanted_newline){c.current_line.push("");for(var t=0;t<T.whitespace_before.length;t+=1)c.current_line.push(T.whitespace_before[t]);c.space_before_token=!1}else c.add_indent_string(K.indentation_level)&&(K.line_indent_level=K.indentation_level)}(),c.add_token(t)}function L(){K.indentation_level+=1}function I(t){K?(w.push(K),R=K):R=O(null,t),K=O(R,t)}function j(t){return t===a}function P(t){return e(t,[l,o,h])}function V(){w.length>0&&(R=K,K=w.pop(),R.mode===s&&c.remove_redundant_indentation(R))}function M(){return K.parent.mode===_&&K.mode===s&&(":"===K.last_text&&0===K.ternary_depth||"TK_RESERVED"===E&&e(K.last_text,["get","set"]))}function U(){return!!("TK_RESERVED"===E&&e(K.last_text,["var","let","const"])&&"TK_WORD"===T.type||"TK_RESERVED"===E&&"do"===K.last_text||"TK_RESERVED"===E&&"return"===K.last_text&&!T.wanted_newline||"TK_RESERVED"===E&&"else"===K.last_text&&("TK_RESERVED"!==T.type||"if"!==T.text)||"TK_END_EXPR"===E&&(R.mode===o||R.mode===h)||"TK_WORD"===E&&K.mode===r&&!K.in_case&&"--"!==T.text&&"++"!==T.text&&"TK_WORD"!==T.type&&"TK_RESERVED"!==T.type||K.mode===_&&(":"===K.last_text&&0===K.ternary_depth||"TK_RESERVED"===E&&e(K.last_text,["get","set"])))&&(I(s),L(),"TK_RESERVED"===E&&e(K.last_text,["var","let","const"])&&"TK_WORD"===T.type&&(K.declaration_statement=!0),M()||N("TK_RESERVED"===T.type&&e(T.text,["do","for","if","while"])),!0)}function W(t){return e(t,["case","return","do","if","throw","else"])}function B(t){var e=u+(t||0);return e<0||e>=m.length?null:m[e]}function G(){("TK_RESERVED"===T.type&&K.mode!==_&&e(T.text,["set","get"])&&(T.type="TK_WORD"),"TK_RESERVED"===T.type&&K.mode===_)&&(":"==B(1).text&&(T.type="TK_WORD"));if(U()||!T.wanted_newline||P(K.mode)||"TK_OPERATOR"===E&&"--"!==K.last_text&&"++"!==K.last_text||"TK_EQUALS"===E||!y.preserve_newlines&&"TK_RESERVED"===E&&e(K.last_text,["var","let","const","set","get"])||D(),K.do_block&&!K.do_while){if("TK_RESERVED"===T.type&&"while"===T.text)return c.space_before_token=!0,C(),c.space_before_token=!0,void(K.do_while=!0);D(),K.do_block=!1}if(K.if_block)if(K.else_block||"TK_RESERVED"!==T.type||"else"!==T.text){for(;K.mode===s;)V();K.if_block=!1,K.else_block=!1}else K.else_block=!0;if("TK_RESERVED"===T.type&&("case"===T.text||"default"===T.text&&K.in_case_statement))return D(),(K.case_body||y.jslint_happy)&&(K.indentation_level>0&&(!K.parent||K.indentation_level>K.parent.indentation_level)&&(K.indentation_level-=1),K.case_body=!1),C(),K.in_case=!0,void(K.in_case_statement=!0);if("TK_RESERVED"===T.type&&"function"===T.text&&((e(K.last_text,["}",";"])||c.just_added_newline()&&!e(K.last_text,["[","{",":","=",","]))&&(c.just_added_blankline()||T.comments_before.length||(D(),D(!0))),"TK_RESERVED"===E||"TK_WORD"===E?"TK_RESERVED"===E&&e(K.last_text,["get","set","new","return","export"])||"TK_RESERVED"===E&&"default"===K.last_text&&"export"===g?c.space_before_token=!0:D():"TK_OPERATOR"===E||"="===K.last_text?c.space_before_token=!0:(K.multiline_frame||!P(K.mode)&&!j(K.mode))&&D()),"TK_COMMA"!==E&&"TK_START_EXPR"!==E&&"TK_EQUALS"!==E&&"TK_OPERATOR"!==E||M()||N(),"TK_RESERVED"===T.type&&e(T.text,["function","get","set"]))return C(),void(K.last_word=T.text);(v="NONE","TK_END_BLOCK"===E?"TK_RESERVED"===T.type&&e(T.text,["else","catch","finally"])?"expand"===y.brace_style||"end-expand"===y.brace_style?v="NEWLINE":(v="SPACE",c.space_before_token=!0):v="NEWLINE":"TK_SEMICOLON"===E&&K.mode===r?v="NEWLINE":"TK_SEMICOLON"===E&&P(K.mode)?v="SPACE":"TK_STRING"===E?v="NEWLINE":"TK_RESERVED"===E||"TK_WORD"===E||"*"===K.last_text&&"function"===g?v="SPACE":"TK_START_BLOCK"===E?v="NEWLINE":"TK_END_EXPR"===E&&(c.space_before_token=!0,v="NEWLINE"),"TK_RESERVED"===T.type&&e(T.text,f.line_starters)&&")"!==K.last_text&&(v="else"===K.last_text||"export"===K.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===T.type&&e(T.text,["else","catch","finally"]))?"TK_END_BLOCK"!==E||"expand"===y.brace_style||"end-expand"===y.brace_style?D():(c.trim(!0),"}"!==c.current_line.last()&&D(),c.space_before_token=!0):"NEWLINE"===v?"TK_RESERVED"===E&&W(K.last_text)?c.space_before_token=!0:"TK_END_EXPR"!==E?"TK_START_EXPR"===E&&"TK_RESERVED"===T.type&&e(T.text,["var","let","const"])||":"===K.last_text||("TK_RESERVED"===T.type&&"if"===T.text&&"else"===K.last_text?c.space_before_token=!0:D()):"TK_RESERVED"===T.type&&e(T.text,f.line_starters)&&")"!==K.last_text&&D():K.multiline_frame&&j(K.mode)&&","===K.last_text&&"}"===g?D():"SPACE"===v&&(c.space_before_token=!0);C(),K.last_word=T.text,"TK_RESERVED"===T.type&&"do"===T.text&&(K.do_block=!0),"TK_RESERVED"===T.type&&"if"===T.text&&(K.if_block=!0)}E="TK_START_BLOCK",g="",c=new p(x,A),w=[],I(r),this.beautify=function(){var e,n;for(f=new d(t,y,x),m=f.tokenize(),u=0;e=B();){for(var i=0;i<e.comments_before.length;i++)S(e.comments_before[i]);S(e),g=K.last_text,E=e.type,K.last_text=e.text,u+=1}return n=c.get_code(),y.end_with_newline&&(n+="\n"),n}}function u(){var t=0,e=[];this.get_character_count=function(){return t},this.get_item_count=function(){return e.length},this.get_output=function(){return e.join("")},this.last=function(){return e.length?e[e.length-1]:null},this.push=function(n){e.push(n),t+=n.length},this.remove_indent=function(n,i){var r=0;0!==e.length&&(i&&e[0]===i&&(r=1),e[r]===n&&(t-=e[r].length,e.splice(r,1)))},this.trim=function(n,i){for(;this.get_item_count()&&(" "===this.last()||this.last()===n||this.last()===i);){var r=e.pop();t-=r.length}}}function p(t,e){var n=[];this.baseIndentString=e,this.current_line=null,this.space_before_token=!1,this.get_line_number=function(){return n.length},this.add_new_line=function(t){return(1!==this.get_line_number()||!this.just_added_newline())&&(!(!t&&this.just_added_newline())&&(this.current_line=new u,n.push(this.current_line),!0))},this.add_new_line(!0),this.get_code=function(){for(var t=n[0].get_output(),e=1;e<n.length;e++)t+="\n"+n[e].get_output();return t=t.replace(/[\r\n\t ]+$/,"")},this.add_indent_string=function(i){if(e&&this.current_line.push(e),n.length>1){for(var r=0;r<i;r+=1)this.current_line.push(t);return!0}return!1},this.add_token=function(t){this.add_space_before_token(),this.current_line.push(t)},this.add_space_before_token=function(){if(this.space_before_token&&this.current_line.get_item_count()){var n=this.current_line.last();" "!==n&&n!==t&&n!==e&&this.current_line.push(" ")}this.space_before_token=!1},this.remove_redundant_indentation=function(i){if(!i.multiline_frame&&i.mode!==o&&i.mode!==h)for(var r=i.start_line_index,s=n.length;r<s;)n[r].remove_indent(t,e),r++},this.trim=function(i){for(i=void 0!==i&&i,this.current_line.trim(t,e);i&&n.length>1&&0===this.current_line.get_item_count();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim(t,e)},this.just_added_newline=function(){return 0===this.current_line.get_item_count()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===n.length||0===n[n.length-2].get_item_count())}}var f=function(t,e,n,i,r,s){this.type=t,this.text=e,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=i||[],this.parent=null};function d(i,r,s){var _="\n\r\t ".split(""),a=/[0-9]/,o="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => <%= <% %> <?= <? ?>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,yield,import,export".split(",");var h,l,c,u,p,d,T=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof"]);function E(){var E,g;if(h=0,l=[],p>=d)return["","TK_EOF"];g=u.length?u[u.length-1]:new f("TK_START_BLOCK","{");var x=i.charAt(p);for(p+=1;e(x,_);){if("\n"===x?(h+=1,l=[]):h&&(x===s?l.push(s):"\r"!==x&&l.push(" ")),p>=d)return["","TK_EOF"];x=i.charAt(p),p+=1}if(a.test(x)){var K=!0,R=!0,w=a;for("0"===x&&p<d&&/[Xx]/.test(i.charAt(p))?(K=!1,R=!1,x+=i.charAt(p),p+=1,w=/[0123456789abcdefABCDEF]/):(x="",p-=1);p<d&&w.test(i.charAt(p));)x+=i.charAt(p),p+=1,K&&p<d&&"."===i.charAt(p)&&(x+=i.charAt(p),p+=1,K=!1),R&&p<d&&/[Ee]/.test(i.charAt(p))&&(x+=i.charAt(p),(p+=1)<d&&/[+-]/.test(i.charAt(p))&&(x+=i.charAt(p),p+=1),R=!1,K=!1);return[x,"TK_WORD"]}if(t.isIdentifierStart(i.charCodeAt(p-1))){if(p<d)for(;t.isIdentifierChar(i.charCodeAt(p))&&(x+=i.charAt(p),(p+=1)!==d););return"TK_DOT"===g.type||"TK_RESERVED"===g.type&&e(g.text,["set","get"])||!e(x,T)?[x,"TK_WORD"]:"in"===x?[x,"TK_OPERATOR"]:[x,"TK_RESERVED"]}if("("===x||"["===x)return[x,"TK_START_EXPR"];if(")"===x||"]"===x)return[x,"TK_END_EXPR"];if("{"===x)return[x,"TK_START_BLOCK"];if("}"===x)return[x,"TK_END_BLOCK"];if(";"===x)return[x,"TK_SEMICOLON"];if("/"===x){var v="",b=!0;if("*"===i.charAt(p)){if((p+=1)<d)for(;p<d&&("*"!==i.charAt(p)||!i.charAt(p+1)||"/"!==i.charAt(p+1))&&(v+=x=i.charAt(p),"\n"!==x&&"\r"!==x||(b=!1),!((p+=1)>=d)););return p+=2,b&&0===h?["/*"+v+"*/","TK_INLINE_COMMENT"]:["/*"+v+"*/","TK_BLOCK_COMMENT"]}if("/"===i.charAt(p)){for(v=x;"\r"!==i.charAt(p)&&"\n"!==i.charAt(p)&&(v+=i.charAt(p),!((p+=1)>=d)););return[v,"TK_COMMENT"]}}if("`"===x||"'"===x||'"'===x||("/"===x||r.e4x&&"<"===x&&i.slice(p-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_RESERVED"===g.type&&e(g.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===g.type&&")"===g.text&&g.parent&&"TK_RESERVED"===g.parent.type&&e(g.parent.text,["if","while","for"])||e(g.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var y=x,m=!1,A=!1;if(E=x,"/"===y)for(var O=!1;p<d&&(m||O||i.charAt(p)!==y)&&!t.newline.test(i.charAt(p));)E+=i.charAt(p),m?m=!1:(m="\\"===i.charAt(p),"["===i.charAt(p)?O=!0:"]"===i.charAt(p)&&(O=!1)),p+=1;else if(r.e4x&&"<"===y){var k=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,S=i.slice(p-1),N=k.exec(S);if(N&&0===N.index){for(var D=N[2],C=0;N;){var L=!!N[1],I=N[2],j=!!N[N.length-1]||"![CDATA["===I.slice(0,8);if(I!==D||j||(L?--C:++C),C<=0)break;N=k.exec(S)}var P=N?N.index+N[0].length:S.length;return p+=P-1,[S.slice(0,P),"TK_STRING"]}}else for(;p<d&&(m||i.charAt(p)!==y&&("`"===y||!t.newline.test(i.charAt(p))));)E+=i.charAt(p),m?("x"!==i.charAt(p)&&"u"!==i.charAt(p)||(A=!0),m=!1):m="\\"===i.charAt(p),p+=1;if(A&&r.unescape_strings&&(E=function(t){var e,n=!1,i="",r=0,s="",_=0;for(;n||r<t.length;)if(e=t.charAt(r),r++,n){if(n=!1,"x"===e)s=t.substr(r,2),r+=2;else{if("u"!==e){i+="\\"+e;continue}s=t.substr(r,4),r+=4}if(!s.match(/^[0123456789abcdefABCDEF]+$/))return t;if((_=parseInt(s,16))>=0&&_<32){i+="x"===e?"\\x"+s:"\\u"+s;continue}if(34===_||39===_||92===_)i+="\\"+String.fromCharCode(_);else{if("x"===e&&_>126&&_<=255)return t;i+=String.fromCharCode(_)}}else"\\"===e?n=!0:i+=e;return i}(E)),p<d&&i.charAt(p)===y&&(E+=y,p+=1,"/"===y))for(;p<d&&t.isIdentifierStart(i.charCodeAt(p));)E+=i.charAt(p),p+=1;return[E,"TK_STRING"]}if("#"===x){if(0===u.length&&"!"===i.charAt(p)){for(E=x;p<d&&"\n"!==x;)E+=x=i.charAt(p),p+=1;return[n(E)+"\n","TK_UNKNOWN"]}var V="#";if(p<d&&a.test(i.charAt(p))){do{V+=x=i.charAt(p),p+=1}while(p<d&&"#"!==x&&"="!==x);return"#"===x||("["===i.charAt(p)&&"]"===i.charAt(p+1)?(V+="[]",p+=2):"{"===i.charAt(p)&&"}"===i.charAt(p+1)&&(V+="{}",p+=2)),[V,"TK_WORD"]}}if("<"===x&&"\x3c!--"===i.substring(p-1,p+3)){for(p+=3,x="\x3c!--";"\n"!==i.charAt(p)&&p<d;)x+=i.charAt(p),p++;return c=!0,[x,"TK_COMMENT"]}if("-"===x&&c&&"--\x3e"===i.substring(p-1,p+2))return c=!1,p+=2,["--\x3e","TK_COMMENT"];if("."===x)return[x,"TK_DOT"];if(e(x,o)){for(;p<d&&e(x+i.charAt(p),o)&&(x+=i.charAt(p),!((p+=1)>=d)););return","===x?[x,"TK_COMMA"]:"="===x?[x,"TK_EQUALS"]:[x,"TK_OPERATOR"]}return[x,"TK_UNKNOWN"]}this.tokenize=function(){var t,e,n;d=i.length,p=0,c=!1,u=[];for(var r=null,s=[],_=[];!e||"TK_EOF"!==e.type;){for(n=E(),t=new f(n[1],n[0],h,l);"TK_INLINE_COMMENT"===t.type||"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)_.push(t),n=E(),t=new f(n[1],n[0],h,l);_.length&&(t.comments_before=_,_=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=e,r=t,s.push(t)):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&r&&("]"===t.text&&"["===r.text||")"===t.text&&"("===r.text||"}"===t.text&&"}"===r.text)&&(t.parent=r.parent,r=s.pop()),u.push(t),e=t}return u}}"function"==typeof define&&define.amd?define([],(function(){return{js_beautify:i}})):"undefined"!=typeof exports?exports.js_beautify=i:"undefined"!=typeof window?window.js_beautify=i:"undefined"!=typeof global&&(global.js_beautify=i)}();
