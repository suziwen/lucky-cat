!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.requirejs){var n={},r={},t=function(e,n){return{}.hasOwnProperty.call(e,n)},i=function(e,n){for(var r,t,i=[],o=0,s=(r=/^\.\.?(\/|$)/.test(n)?[e,n].join("/").split("/"):n.split("/")).length;o<s;o++)".."===(t=r[o])?i.pop():"."!==t&&""!==t&&i.push(t);return i.join("/")},o=function(n,t){var o,s={id:n,exports:{}};return r[n]=s,t(s.exports,(o=n,function(n){var r=function(e){return e.split("/").slice(0,-1).join("/")}(o),t=i(r,n);return e.requirejs(t,o)}),s),s.exports},s=function(e,r){if("object"==typeof e)for(var i in e)t(e,i)&&(n[i]=e[i]);else n[e]=r};e.requirejs=function(e,s){var u=i(e,".");if(null==s&&(s="/"),t(r,u))return r[u].exports;if(t(n,u))return o(u,n[u]);var a=i(u,"./index");if(t(r,a))return r[a].exports;if(t(n,a))return o(a,n[a]);throw new Error('Cannot find module "'+e+'" from "'+s+'"')},e.requirejs.define=s,e.requirejs.register=s,e.requirejs.list=function(){var e=[];for(var r in n)t(n,r)&&e.push(r);return e},e.requirejs.brunch=!0}}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).searchString=e()}}((function(){return function e(n,r,t){function i(s,u){if(!r[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var d=r[s]={exports:{}};n[s][0].call(d.exports,(function(e){return i(n[s][1][e]||e)}),d,d.exports,e,n,r,t)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<t.length;s++)i(t[s]);return i}({1:[function(e,n,r){"use strict";var t=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}();var i=e("./utils").getQuotePairMap,o="RESET",s=function(){function e(n,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.conditionArray=n,this.textSegments=r,this.string="",this.isStringDirty=!0}return t(e,[{key:"getConditionArray",value:function(){return this.conditionArray}},{key:"getParsedQuery",value:function(){var e={exclude:{}};return this.conditionArray.forEach((function(n){n.negated?e.exclude[n.keyword]?e.exclude[n.keyword].push(n.value):e.exclude[n.keyword]=[n.value]:e[n.keyword]?e[n.keyword].push(n.value):e[n.keyword]=[n.value]})),e}},{key:"getAllText",value:function(){return this.textSegments?this.textSegments.map((function(e){var n=e.text;return e.negated?"-"+n:n})).join(" "):""}},{key:"getTextSegments",value:function(){return this.textSegments}},{key:"removeKeyword",value:function(e,n){this.conditionArray=this.conditionArray.filter((function(r){var t=r.keyword,i=r.negated;return e!==t||n!==i})),this.isStringDirty=!0}},{key:"addEntry",value:function(e,n,r){this.conditionArray.push({keyword:e,value:n,negated:r}),this.isStringDirty=!0}},{key:"removeEntry",value:function(e,n,r){var t=this.conditionArray.findIndex((function(t){return t.keyword===e&&t.value===n&&t.negated===r}));-1!==t&&(this.conditionArray.splice(t,1),this.isStringDirty=!0)}},{key:"clone",value:function(){return new e(this.conditionArray.slice(0),this.textSegments.slice(0))}},{key:"toString",value:function(){if(this.isStringDirty){var e={};this.conditionArray.forEach((function(n){var r=n.keyword,t=n.value,i=""+(n.negated?"-":"")+r;e[i]?e[i].push(t):e[i]=[t]}));var n="";Object.keys(e).forEach((function(r){var t=e[r].filter((function(e){return e})).map((function(e){for(var n="",r=!1,t=0;t<e.length;t++){var i=e[t];'"'===i?n+='\\"':(" "!==i&&","!==i||(r=!0),n+=i)}return r?'"'+n+'"':n}));t.length>0&&(n+=" "+r+":"+t.join(","))})),this.string=(n+" "+this.getAllText()).trim(),this.isStringDirty=!1}return this.string}}],[{key:"parse",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n||(n="");var t=[],s=[],u=function(e,n,r){var i={keyword:e,value:n,negated:r};t.push(i)},a=function(e,n){var t=!1;r.forEach((function(r){var i=r(e),o=i.key,s=i.value;o&&s&&(u(o,s,n),t=!0)})),t||s.push({text:e,negated:n})},f=void 0,d=void 0,c=void 0,l=void 0,y=void 0,h=void 0,v=function(){f=o,y=o,d="",l="",c=!1,h=""},m=function(){return"IN_TEXT"===f},g=function(){return"IN_OPERAND"===f},p=function(){return"SINGLE_QUOTE"===y},w=function(){return"DOUBLE_QUOTE"===y},k=function(){return p()||w()};v();for(var x=i(n),q=0;q<n.length;q++){var E=n[q];" "===E?g()?k()?d+=E:(u(l,d,c),v()):m()&&(k()?l+=E:(a(l,c),v())):","===E&&g()&&!k()?(u(l,d,c),d=""):"-"!==E||g()||m()?":"!==E||k()?'"'!==E||"\\"===h||p()?"'"!==E||"\\"===h||w()?"\\"!==E&&(g()?d+=E:(l+=E,f="IN_TEXT")):p()?y=o:x.single[q]?y="SINGLE_QUOTE":g()?d+=E:l+=E:w()?y=o:x.double[q]?y="DOUBLE_QUOTE":g()?d+=E:l+=E:g()?d+=E:m()&&(f="IN_OPERAND"):c=!0,h=E}return m()?a(l,c):g()&&u(l,d,c),new e(t,s)}}]),e}();n.exports=s},{"./utils":2}],2:[function(e,n,r){"use strict";n.exports={getQuotePairMap:function(e){e||(e="");for(var n={single:{},double:{}},r={single:-1,double:-1},t="",i=0;i<e.length;i++){var o=e[i];"\\"!==t&&('"'===o?r.double>=0?(n.double[r.double]=!0,n.double[i]=!0,r.double=-1):r.double=i:"'"===o&&(r.single>=0?(n.single[r.single]=!0,n.single[i]=!0,r.single=-1):r.single=i)),t=o}return n}}},{}]},{},[1])(1)})),function(){var e,n,r=/([-+])(\d*)\s*(minutes|minute|min|Min|Minute|Minutes|hr|Hr|hours|hour|Hour|Hours|days|day|Days|Day|weeks|week|Week|Weeks|months|month|mon|Month|Months|years|year|Year|Years|Quarters|Quarter|seconds|second|Seconds|Second|sec|s|m|h|d|D|M|y|Y|q|Q|Qr|qr|ms|w|wk|Wk)/;n={ms:"milliseconds",s:"seconds",sec:"seconds",second:"seconds",seconds:"seconds",Second:"seconds",Seconds:"seconds",m:"minutes",min:"minutes",minute:"minutes",minutes:"minutes",Min:"minutes",Minute:"minutes",Minutes:"minutes",h:"hours",hr:"hours",Hr:"hours",hour:"hours",hours:"hours",Hour:"hours",Hours:"hours",d:"days",D:"days",day:"days",days:"days",Day:"days",Days:"days",w:"weeks",W:"weeks",wk:"weeks",Wk:"weeks",week:"weeks",weeks:"weeks",Week:"weeks",Weeks:"weeks",M:"months",mon:"months",month:"months",months:"months",Month:"months",Months:"months",y:"years",Y:"years",yr:"years",yrs:"years",year:"years",years:"years",Year:"years",Years:"years",q:"quarters",qr:"quarters",Q:"quarters",Qr:"quarters",qtr:"quarters",quarter:"quarters",quarters:"quarters",Quarter:"quarters",Quarters:"quarters"},e=function(e){return e.fn.relativeTime=function(t){var i;return t=t.trim(),r.test(t)?(i=r.exec(t),"-"===t.charAt(0)?e(this).subtract(+i[2],n[i[3]]):e(this).add(+i[2],n[i[3]])):e()},e.fn.isRelativeTimeFormat=function(e){return"now"===(e=e.trim())||r.test(e)},e},"function"==typeof define&&define.amd?define("moment-relative-time",["moment"],(function(n){return e(n)})):"undefined"!=typeof module?module.exports=e(require("moment")):"undefined"!=typeof window&&window.moment&&(this.moment=e(this.moment))}.call(this);
