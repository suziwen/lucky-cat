!function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){var n,i,r,s,a,l,h,c,u,d,p,f,g,m,y,w,v,_,C,x;r=o(2),i=o(3),o(4),m=null,v=!1,c={width:300,height:200},d=null,C={tool:"pencil",strokeWidth:3,zoom:1,color:{primary:"#f00"}},x={},y=null,n=$(".tool_bar_container"),h={1:"normal 14px sans-serif",2:"bold 14px sans-serif",3:"normal 16px sans-serif",4:"bold 16px sans-serif",5:"normal 18px sans-serif",6:"bold 18px sans-serif",7:"normal 20px sans-serif",8:"bold 20px sans-serif",9:"normal 25px sans-serif",10:"bold 25px sans-serif",20:"normal 30px sans-serif",50:"normal 40px sans-serif"},s={pencil:"pencil",brush:"paint-brush",blur:"tint",eraser:"eraser",text:"font",line:"minus",arrow:"long-arrow-down",rectangle:"square-o",ellipse:"circle-o",polygon:"map-o"},a={pencil:{font:{family:"Icons",cssClass:"icon pencil"}},brush:{font:{family:"Icons",cssClass:"icon paint brush"}},blur:{font:{family:"Icons",cssClass:"icon tint"}},eraser:{font:{family:"Icons",cssClass:"icon eraser"}},text:{font:{family:"Icons",cssClass:"icon font"}},line:{font:{family:"Icons",cssClass:"icon minus"}},arrow:{font:{family:"Icons",cssClass:"icon long alternate arrow down"}},rectangle:{font:{family:"outline-icons",cssClass:"icon square outline"}},ellipse:{font:{family:"outline-icons",cssClass:"icon circle outline"}},polygon:{font:{family:"outline-icons",cssClass:"icon map outline"}}},l=function(){return m&&m.destroy(),$(".crop_container").remove(),m=null,$(window).trigger("leaveCrop")},f=function(t,e){return d=new Image,d.onload=function(){return c.width=d.width,c.height=d.height,e(null,d)},d.onerror=function(){return e("图片地址错误")},d.src=t},u=function(){var t;return $(".colorpicker").spectrum({preferredFormat:"hex3",showButtons:!0,showInput:!0,showAlpha:!1,chooseText:"确定",cancelText:"取消",allowEmpty:!1,change:function(t){var e,o,n;return o=this,n=$(o).data("type")||"primary",e="",e=t?t.toHexString():"secondary"===n?"transparent":"#f00",C.color[n]=e,y.setColor(n,e)}}),$(".stroke_wide_dropdown").dropdown({placeholder:"value",onChange:function(t,e,o){var n,i;return $(this).find(".selected_text").html(e),C.strokeWidth=parseInt(t),i=parseInt(C.strokeWidth)||1,n=h[i]||h[1],y.trigger("setStrokeWidth",i),y.trigger("setFont",n)}}),$(".component_dropdown").dropdown({placeholder:"value",onChange:function(t,e,o){var n,i,r,l,c;if($(this).find(".selected_text").html(e),c=x[t])return C.tool=t,y.setTool(c),"select"!==t&&c?(r="center left","pencil"!==t&&"brush"!==t&&"eraser"!==t||(r="bottom left"),n={size:32,hotspot:r,outline:"white"},n=$.extend({},n,a[t]),$(".literally").awesomeCursor(s[t],n)):$(".literally").css("cursor","inherit"),l=parseInt(C.strokeWidth)||1,i=h[l]||h[1],y.trigger("setStrokeWidth",l),y.trigger("setFont",i)}}),t=$(".select_btn"),n.on("click",".zoom_in_btn",function(t){return y.zoom(.2)}),n.on("click",".zoom_out_btn",function(t){return y.zoom(-.2)}),n.on("click",".undo_btn",function(){return y.undo()}),n.on("click",".redo_btn",function(){return y.redo()}),n.on("click",".crop_btn",function(t){var e,o,n,i,r,s;if(!v)return m?l():(y.isBound&&null!=(s=y.tool)&&s.willBecomeInactive(y),y.setZoom(1),i=$(t.currentTarget),$(".fs-container").addClass("fs_crop_mode"),r=y.getImage().toDataURL(),e=$('<div class="crop_container">'),$(".literally_container").append(e),$(".literally_container")[0].scrollTop=0,$(".literally_container")[0].scrollLeft=0,o=$("<img>"),o[0].src=r,e.append(o),$(".crop_info_input").val(""),e.css({width:"100%",height:"100%",position:"absolute",left:0,top:0}),n=$(".literally_container"),v=!0,$(".zoom_info_input").val(100),$(".rotate_info_input").val(0),$(".move_mode_btn").removeClass("active"),$(".crop_mode_btn").addClass("active"),m=new Cropper(o[0],{autoCrop:!1,zoom:function(t){var e,o;if(e=t.detail,e.originalEvent)return o=parseInt(100*e.ratio),$(".zoom_info_input").val(o)},crop:function(){var t;return t=m.getData(),$(".crop_info_input_width").val(t.width),$(".crop_info_input_height").val(t.height)},ready:function(){return v=!1}})),$(window).trigger("enterCrop")}),n.on("click",".cancel_crop_btn",function(){return $(".fs-container").removeClass("fs_crop_mode"),l()}),n.on("click",".apply_crop_btn",function(){var t,e;if(m)return e=m.getCroppedCanvas(),e&&e.width&&e.height?(y.teardown(),t=$(".literally"),$(".literally").width(e.width),$(".literally").height(e.height),c.width=e.width,c.height=e.height,y=LC.init(t[0],{defaultStrokeWidth:3,primaryColor:"#f00",secondaryColor:"transparent",zoomMax:1.8,zoomMin:.2,backgroundShapes:[LC.createShape("Image",{x:0,y:0,image:e})],imageSize:{width:e.width||300,height:e.height||200},onInit:function(t){var e,o;return y=t,g(),y.setColor("primary",C.color.primary),y.setTool(x[C.tool]||x[0]),o=parseInt(C.strokeWidth)||1,e=h[o]||h[1],y.trigger("setStrokeWidth",o),y.trigger("setFont",e),n.find(".redo_btn, .undo_btn").addClass("disabled"),y.setZoom(parseFloat(C.zoom))}}),$(".fs-container").removeClass("fs_crop_mode"),l()):void $(".cancel_crop_btn").trigger("click")}),n.on("click",".crop_mode_btn",function(){return m.getCropBoxData().width>0?void m.clear():(m.setDragMode("crop"),m.crop(),$(this).addClass("active"),$(".move_mode_btn").removeClass("active"))}),n.on("click",".move_mode_btn",function(){return m.setDragMode("move"),$(this).addClass("active"),$(".crop_mode_btn").removeClass("active")}),n.on("click",".crop_info_input",function(){return $(".crop_info").addClass("active")}),n.on("keypress",".crop_info_input",function(t){var e,o,n,i,r;if(i=t.keyCode||t.which,e=$(t.currentTarget),13===i)return r=parseInt($(".crop_info_input_width").val())||200,n=parseInt($(".crop_info_input_height").val())||200,o=m.getData(),o.width=r,o.height=n,m.crop(),m.setData(o),$(".crop_info").removeClass("active")}),n.on("keypress",".rotate_info_input",function(t){var e,o,n,i;if(n=t.keyCode||t.which,e=$(t.currentTarget),13===n)return i=parseInt($(".rotate_info_input").val())||0,o=m.getData(),o.rotate=i,m.setData(o)}),n.on("keypress",".zoom_info_input",function(t){var e,o,n;if(o=t.keyCode||t.which,e=$(t.currentTarget),13===o)return n=parseInt($(".zoom_info_input").val())||100,m.zoomTo(n/100)}),n.on("click",".refresh_btn",function(){return _()}),$(".zoom_level_dropdown").dropdown({action:function(t,e){return y.setZoom(parseFloat(e))}}),$(".crop_size_dropdown").dropdown({action:function(t,e){var o,n,i,r,s;return r=e.split("*"),s=r[0],n=r[1],i=function(t){var e,o;return e=$('<div style="visibility:hidden"></div>').appendTo("body"),e.width(t+"mm"),o=e.width(),e.remove(),o},s=i(s),n=i(n),m.crop(),o=m.getData(),o.width=s,o.height=n,m.setData(o)}}),$(".rotate_deg_dropdown").dropdown({action:function(t,e){var o;return o=m.getData(),o.rotate=parseInt(e)||0,m.setData(o),$(".rotate_info_input").val(o.rotate)}}),$(".zoom_dropdown").dropdown({action:function(t,e){return m.zoomTo(e/100),$(".zoom_info_input").val(e)}})},g=function(){return x={select:new LC.tools.SelectShape(y),pan:new LC.tools.Pan(y),pencil:new LC.tools.Pencil(y),brush:new r(y),blur:new i(y),eraser:new LC.tools.Eraser(y),text:new LC.tools.Text(y),line:new LC.tools.Line(y),arrow:function(){var t;return t=new LC.tools.Line(y),t.hasEndArrow=!0,t}(),dashed:function(){var t;return t=new LC.tools.Line(y),t.isDashed=!0,t}(),rectangle:new LC.tools.Rectangle(y),ellipse:new LC.tools.Ellipse(y),polygon:new LC.tools.Polygon(y)},y.on("zoom",function(){var t,e;return n.find(".zoom_in_btn").removeClass("disabled"),n.find(".zoom_out_btn").removeClass("disabled"),y.scale>=y.config.zoomMax&&n.find(".zoom_in_btn").addClass("disabled"),y.scale<=y.config.zoomMin&&n.find(".zoom_out_btn").addClass("disabled"),n.find(".zoom_level_dropdown").dropdown("set selected",y.scale),e=c.width*y.scale,t=c.height*y.scale,1===y.scale&&(e=c.width,t=c.height),$(".literally").width(e),$(".literally").height(t),C.zoom=y.scale,window.dispatchEvent(new Event("resize"))}),y.on("drawingChange",function(){return n.find(".undo_btn").toggleClass("disabled",!y.canUndo()),n.find(".redo_btn").toggleClass("disabled",!y.canRedo())})},w=function(t,e){return f(t,function(t,o){return t||!o?e("加载图片出错"):(c.width=o.width,c.height=o.height,_(e))})},_=function(t){var e,o;return null!=y&&y.teardown(),y=null,o=d,e=$(".literally"),c.width=o.width,c.height=o.height,$(".literally").width(o.width),$(".literally").height(o.height),LC.init(e[0],{defaultStrokeWidth:3,primaryColor:"#f00",secondaryColor:"transparent",zoomMax:1.8,zoomMin:.2,backgroundShapes:[LC.createShape("Image",{x:0,y:0,image:o})],imageSize:{width:o.width||300,height:o.height||200},onInit:function(e){var o,i;y=e,g(),y.setColor("primary",C.color.primary),y.setTool(x[C.tool]||x[0]),i=parseInt(C.strokeWidth)||1,o=h[i]||h[1],y.trigger("setStrokeWidth",i),y.trigger("setFont",o),n.find(".redo_btn, .undo_btn").addClass("disabled"),y.setZoom(1),"function"==typeof t&&t()}})},p=function(t,e){var o;return o=$(".literally"),f(t,function(t,n){return t||!n?e("加载图片出错"):($(".literally").width(n.width),$(".literally").height(n.height),LC.init(o[0],{defaultStrokeWidth:3,primaryColor:"#f00",secondaryColor:"transparent",zoomMax:1.8,zoomMin:.2,backgroundShapes:[LC.createShape("Image",{x:0,y:0,image:n})],imageSize:{width:n.width||300,height:n.height||200},onInit:function(t){y=t,g(),u(),$(window).on("keyup",function(t){var e,o,n,i,r;if(m&&27===t.keyCode&&m.clear(),(8===(e=t.keyCode)||46===e)&&y&&(o=y.tool.selectedShape))return n=y.shapes.indexOf(o),y.shapes.splice(n,1),y.setShapesInProgress([]),y.trigger("shapeMoved",{shape:o}),y.trigger("drawingChange",{}),r=y.tool.selectedShape,i=y.tool.selectedShape.id,y.tool.selectedShape=null,y.repaintLayer("main"),y.trigger("shapeDeleted",r),y.execute({do:function(){var t,e,o,n,r;for(n=y.shapes,t=e=0,o=n.length;e<o;t=++e)if(r=n[t],r.id===i){y.shapes.splice(t,1);break}return y.repaintLayer("main")},undo:function(){return y.shapes.push(r),y.repaintLayer("main")}}),y.setTool(new LC.tools.SelectShape(y))}),e(null,{getLc:function(){return y},on:function(t,e){return $(window).on(t,e)},off:function(t,e){return $(window).off(t,e)},loadImageFn:w,saveImageFn:function(t,e,o){var n,i;return i=function(t){return FileSaver(t,"filename.jpg")},y.isBound&&null!=(n=y.tool)&&n.willBecomeInactive(y),y.getImage().toBlob(function(t){return o(t)},t||"image/jpeg",e||.95)}})}}))})},window.initImageEditor=p},function(t,e){var o,n,i,r,s,a,l,h,c,u,d,p,f=function(t,e){function o(){this.constructor=t}for(var n in e)g.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},g={}.hasOwnProperty;p=LC.util,c=function(t,e){return e?c(a(a(h(t))),e-1):t},h=function(t){var e,o,n,i,r;for(t=[t[0]].concat(t).concat(p.last(t)),r=[],o=0,e=0,n=t.length;e<n;e++)i=t[e],r[2*o]=i,t[o+1]&&(r[2*o+1]=l(i,t[o+1])),o+=1;return r},a=function(t){var e,o,n,i,r;for(e=[],n=0,o=0,i=t.length;o<i;o++)r=t[o],t[n+1]&&(e[n]=l(r,t[n+1])),n+=1;return e},l=function(t,e){return LC.createShape("Point",{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2,size:t.size+(e.size-t.size)/2,color:t.color})},r=function(t){var e,o,n,i,r;if(!t.length)return!1;for(r=t[0].size,e=t[0].color,o=0,n=t.length;o<n;o++)if(i=t[o],i.size!==r||i.color!==e,i.size!==r||i.color!==e)return!1;return!0},i=function(t,e){var o,n,i,r,s;return n=null,e.points?n=function(){var t,n,i,r;for(i=e.points,r=[],t=0,n=i.length;t<n;t++)o=i[t],r.push(LC.JSONToShape(o));return r}():e.pointCoordinatePairs&&(n=function(){var t,o,n,i,a;for(n=e.pointCoordinatePairs,a=[],t=0,o=n.length;t<o;t++)i=n[t],r=i[0],s=i[1],a.push(LC.JSONToShape({className:"Point",data:{x:r,y:s,size:e.pointSize,color:e.pointColor,smooth:e.smooth}}));return a}()),i=null,e.smoothedPointCoordinatePairs&&(i=function(){var t,o,n,i,a;for(n=e.smoothedPointCoordinatePairs,a=[],t=0,o=n.length;t<o;t++)i=n[t],r=i[0],s=i[1],a.push(LC.JSONToShape({className:"Point",data:{x:r,y:s,size:e.pointSize,color:e.pointColor,smooth:e.smooth}}));return a}()),n[0]?LC.createShape(t,{points:n,smoothedPoints:i,order:e.order,tailSize:e.tailSize,smooth:e.smooth}):null},d={constructor:function(t){var e,o,n,i,r;if(null==t&&(t={}),i=t.points||[],this.order=t.order||3,this.tailSize=t.tailSize||3,this.smooth=!("smooth"in t)||t.smooth,this.segmentSize=Math.pow(2,this.order),this.sampleSize=this.tailSize+1,t.smoothedPoints)return this.points=t.points,this.smoothedPoints=t.smoothedPoints;for(this.points=[],r=[],e=0,o=i.length;e<o;e++)n=i[e],r.push(this.addPoint(n));return r},getBoundingRect:function(){return p.getBoundingRect(this.points.map(function(t){return{x:t.x-t.size/2,y:t.y-t.size/2,width:t.size,height:t.size}}))},toJSON:function(){var t,e;return r(this.points)?{order:this.order,tailSize:this.tailSize,smooth:this.smooth,pointCoordinatePairs:function(){var t,o,n,i;for(n=this.points,i=[],t=0,o=n.length;t<o;t++)e=n[t],i.push([e.x,e.y]);return i}.call(this),smoothedPointCoordinatePairs:function(){var t,o,n,i;for(n=this.smoothedPoints,i=[],t=0,o=n.length;t<o;t++)e=n[t],i.push([e.x,e.y]);return i}.call(this),pointSize:this.points[0].size,pointColor:this.points[0].color}:{order:this.order,tailSize:this.tailSize,smooth:this.smooth,points:function(){var e,o,n,i;for(n=this.points,i=[],e=0,o=n.length;e<o;e++)t=n[e],i.push(shapeToJSON(t));return i}.call(this)}},fromJSON:function(t){return i("LinePath",t)},addPoint:function(t){return this.points.push(t),this.smooth?!this.smoothedPoints||this.points.length<this.sampleSize?this.smoothedPoints=c(this.points,this.order):(this.tail=p.last(c(p.last(this.points,this.sampleSize),this.order),this.segmentSize*this.tailSize),this.smoothedPoints=this.smoothedPoints.slice(0,this.smoothedPoints.length-this.segmentSize*(this.tailSize-1)).concat(this.tail)):void(this.smoothedPoints=this.points)},move:function(t){var e,o,n,i;for(null==t&&(t={}),i=this.smooth?this.smoothedPoints:this.points,e=0,o=i.length;e<o;e++)n=i[e],n.move(t);return this.points=this.smoothedPoints},setUpperLeft:function(t){var e,o,n;return null==t&&(t={}),e=this.getBoundingRect(),o=e.x-t.x,n=e.y-t.y,this.move({xDiff:o,yDiff:n})}},n=LC.defineShape("BrushPath",d),s=function(t,e,o,n){var i,r,s,a;if(null==o&&(o=!1),null==n&&(n="round"),e.length){for(t.lineCap=n,t.strokeStyle=e[0].color,t.lineWidth=e[0].size,t.beginPath(),e[0].size%2===0?t.moveTo(e[0].x,e[0].y):t.moveTo(e[0].x+.5,e[0].y+.5),a=e.slice(1),i=0,r=a.length;i<r;i++)s=a[i],e[0].size%2===0?t.lineTo(s.x,s.y):t.lineTo(s.x+.5,s.y+.5);return o?t.closePath():void 0}},u=function(t,e){return s(t,e.smoothedPoints),t.stroke()},LC.defineCanvasRenderer("BrushPath",u),LC.defineSVGRenderer("BrushPath",function(t){var e;return e=t.smoothedPoints.map(function(t){var e;return e=t.strokeWidth%2===0?0:.5,t.x+e+","+(t.y+e)}).join(" "),"<polyline fill='none' points='"+e+"' stroke='"+t.points[0].color+"' stroke-linecap='round' stroke-width='"+t.points[0].size+"' />"}),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.name="Brush",e.prototype.iconName="brush",e.prototype.begin=function(t,e,o){var n;return n=o.getColor("primary"),n=tinycolor(n).setAlpha(.3),this.color=n,this.currentShape=this.makeShape(),this.currentShape.addPoint(this.makePoint(t,e,o)),this.lastEventTime=Date.now()},e.prototype.makeShape=function(){return LC.createShape("BrushPath")},e}(LC.tools.Pencil),t.exports=o},function(t,e){var o,n,i=function(t,e){var o,n,i,r,s,a,l,h,c,u=t.width,d=t.height,p=t.data,f=e||0,g=l=h=a=s=c=0;for(r=0;r<f;r++)for(var m=0;m<2;m++)for(m?(s=u,a=d,l=4*u):(s=d,a=u,l=4),o=0;o<s;o++)for(h=0===m?o*u*4:4*o,i=0;i<3;i++){for(g=h+i,c=0,c=p[g]+p[g+l]+p[g+2*l],p[g]=Math.floor(c/3),c+=p[g+3*l],p[g+l]=Math.floor(c/4),c+=p[g+4*l],p[g+2*l]=Math.floor(c/5),n=3;n<a-2;n++)c=Math.max(0,c-p[g+(n-2)*l]+p[g+(n+2)*l]),p[g+n*l]=Math.floor(c/5);c-=p[g+(n-2)*l],p[g+n*l]=Math.floor(c/4),c-=p[g+(n-1)*l],p[g+(n+1)*l]=Math.floor(c/3)}return t},r=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=LC.createShape,LC.defineShape("Blur",{constructor:function(t){return null==t&&(t={}),this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.strokeWidth=t.strokeWidth||1},getBoundingRect:function(){return{x:this.x-this.strokeWidth/2,y:this.y-this.strokeWidth/2,width:this.width+this.strokeWidth,height:this.height+this.strokeWidth}},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,strokeWidth:this.strokeWidth,strokeColor:this.strokeColor,fillColor:this.fillColor}},fromJSON:function(t){return n("Blur",t)},move:function(t){return null==t&&(t={}),this.x=this.x-t.xDiff,this.y=this.y-t.yDiff},setUpperLeft:function(t){return null==t&&(t={}),this.x=t.x,this.y=t.y}}),LC.defineCanvasRenderer("Blur",function(t,e){var o,n,r,s;return r=e.x+this.position.x,s=e.y+this.position.y,n=this,(o=function(e,o,r,s){var a,l,h,c,u,d,p;if(r>4&&s>4)return a=n.backgroundCtx,l=a.getImageData(e,o,r,s),c=$("<canvas></canvas>")[0],u=$("<canvas></canvas>")[0],c.width=u.width=r,c.height=u.height=s,d=c.getContext("2d"),p=u.getContext("2d"),d.putImageData(l,0,0),h=t.getImageData(e,o,r,s),p.putImageData(h,0,0),d.drawImage(u,0,0),h=d.getImageData(0,0,r,s),h=i(h,4),t.putImageData(h,e,o)})(r,s,e.width,e.height)}),LC.defineSVGRenderer("Blur",function(t){var e,o,n,i,r,s,a,l;return i=t.x,a=t.y,r=t.x+t.width,l=t.y+t.height,n=Math.min(i,r),s=Math.min(a,l),o=Math.max(i,r)-n,e=Math.max(a,l)-s,t.strokeWidth%2!==0&&(n+=.5,s+=.5),"<rect x='"+n+"' y='"+s+"' width='"+o+"' height='"+e+"' stroke='"+t.strokeColor+"' fill='"+t.fillColor+"' stroke-width='"+t.strokeWidth+"' />"}),t.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.name="Blur",e.prototype.iconName="blur",e.prototype.begin=function(t,e,o){return this.currentShape=n("Blur",{x:t,y:e,strokeWidth:this.strokeWidth,strokeColor:o.getColor("primary"),fillColor:o.getColor("secondary")})},e.prototype.continue=function(t,e,o){return this.currentShape.width=t-this.currentShape.x,this.currentShape.height=e-this.currentShape.y,o.drawShapeInProgress(this.currentShape)},e.prototype.end=function(t,e,o){return o.saveShape(this.currentShape)},e}(LC.tools.ToolWithStroke)},function(t,e){LC.defineShape("BackgroundImage",{constructor:function(t){return null==t&&(t={}),this.x=t.x||0,this.y=t.y||0,this.scale=t.scale||1,this.image=t.image||null},getBoundingRect:function(){return{x:this.x,y:this.y,width:this.image.width*this.scale,height:this.image.height*this.scale}},toJSON:function(){return{x:this.x,y:this.y,imageSrc:this.image.src,imageObject:this.image,scale:this.scale}},fromJSON:function(t){var e,o;return e=null,(null!=(o=t.imageObject)?o.width:void 0)?e=t.imageObject:(e=new Image,e.src=t.imageSrc),LC.createShape("BackgroundImage",{x:t.x,y:t.y,image:e,scale:t.scale})},move:function(){},setUpperLeft:function(){}}),LC.defineSVGRenderer("BackgroundImage",function(t){return"<image x='"+t.x+"' y='"+t.y+"' width='"+t.image.naturalWidth*t.scale+"' height='"+t.image.naturalHeight*t.scale+"' xlink:href='"+t.image.src+"' />"}),LC.defineCanvasRenderer("BackgroundImage",function(t,e,o){return e.image.width?1===e.scale?t.drawImage(e.image,e.x,e.y):t.drawImage(e.image,e.x,e.y,e.image.width*e.scale,e.image.height*e.scale):o?e.image.onload=o:void 0})}]);